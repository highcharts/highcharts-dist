/*
 Highstock JS v9.3.0 (2021-10-21)

 Indicator series type for Highcharts Stock

 (c) 2010-2021 Pawe Fus

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/indicators/stochastic",["highcharts","highcharts/modules/stock"],function(b){a(b);a.Highcharts=b;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function b(a,g,h,e){a.hasOwnProperty(g)||(a[g]=e.apply(null,h))}a=a?a._modules:{};b(a,"Stock/Indicators/ArrayUtilities.js",[],function(){return{getArrayExtremes:function(a,
g,h){return a.reduce(function(a,b){return[Math.min(a[0],b[g]),Math.max(a[1],b[h])]},[Number.MAX_VALUE,-Number.MAX_VALUE])}}});b(a,"Stock/Indicators/MultipleLinesComposition.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,b){var h=a.seriesTypes.sma,e=b.defined,g=b.error,q=b.merge,n;(function(a){function b(){var c=this,a=c.linesApiNames,d=c.points,f=c.options,b=c.graph,m={options:{gapSize:f.gapSize}},k=[],u=c.getTranslatedLinesNames(c.pointValKey),l=d.length,r;u.forEach(function(c,
a){for(k[a]=[];l--;)r=d[l],k[a].push({x:r.x,plotX:r.plotX,plotY:r[c],isNull:!e(r[c])});l=d.length});a.forEach(function(a,d){k[d]?(c.points=k[d],f[a]?c.options=q(f[a].styles,m):g('Error: "There is no '+a+' in DOCS options declared. Check if linesApiNames are consistent with your DOCS line names." at mixin/multiple-line.js:34'),c.graph=c["graph"+a],h.prototype.drawGraph.call(c),c["graph"+a]=c.graph):g('Error: "'+a+" doesn't have equivalent in pointArrayMap. To many elements in linesApiNames relative to pointArrayMap.\"")});
c.points=d;c.options=f;c.graph=b;h.prototype.drawGraph.call(c)}function l(a){var c=[];(this.pointArrayMap||[]).forEach(function(d){d!==a&&c.push("plot"+d.charAt(0).toUpperCase()+d.slice(1))});return c}function m(a){var c=[];(this.pointArrayMap||[]).forEach(function(d){c.push(a[d])});return c}function d(){var a=this,d=a.pointArrayMap,f=[],b;f=a.getTranslatedLinesNames();h.prototype.translate.apply(a,arguments);a.points.forEach(function(c){d.forEach(function(d,m){b=c[d];a.dataModify&&(b=a.dataModify.modifyValue(b));
null!==b&&(c[f[m]]=a.yAxis.toPixels(b,!0))})})}var f=[],u=["bottomLine"],r=["top","bottom"];a.compose=function(a){if(-1===f.indexOf(a)){f.push(a);var c=a.prototype;c.linesApiNames=c.linesApiNames||u.slice();c.pointArrayMap=c.pointArrayMap||r.slice();c.pointValKey=c.pointValKey||"top";c.drawGraph=b;c.toYData=m;c.translate=d;c.getTranslatedLinesNames=l}return a}})(n||(n={}));return n});b(a,"Stock/Indicators/Stochastic/StochasticIndicator.js",[a["Stock/Indicators/ArrayUtilities.js"],a["Stock/Indicators/MultipleLinesComposition.js"],
a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,b,h,e){var g=this&&this.__extends||function(){var a=function(b,d){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b])};return a(b,d)};return function(b,d){function f(){this.constructor=b}a(b,d);b.prototype=null===d?Object.create(d):(f.prototype=d.prototype,new f)}}(),q=h.seriesTypes.sma,n=e.extend,w=e.isArray,v=e.merge;e=function(b){function e(){var a=
null!==b&&b.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}g(e,b);e.prototype.init=function(){h.seriesTypes.sma.prototype.init.apply(this,arguments);this.options=v({smoothedLine:{styles:{lineColor:this.color}}},this.options)};e.prototype.getValues=function(d,b){var e=b.periods[0];b=b.periods[1];var f=d.xData,c=(d=d.yData)?d.length:0,g=[],n=[],l=[],m=null,p;if(!(c<e)&&w(d[0])&&4===d[0].length){for(p=e-1;p<c;p++){var k=d.slice(p-e+1,p+1);var q=a.getArrayExtremes(k,
2,1);var t=q[0];k=d[p][3]-t;t=q[1]-t;k=k/t*100;n.push(f[p]);l.push([k,null]);p>=e-1+(b-1)&&(m=h.seriesTypes.sma.prototype.getValues.call(this,{xData:n.slice(-b),yData:l.slice(-b)},{period:b}),m=m.yData[0]);g.push([f[p],k,m]);l[l.length-1][1]=m}return{values:g,xData:n,yData:l}}};e.defaultOptions=v(q.defaultOptions,{params:{index:void 0,period:void 0,periods:[14,3]},marker:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span><b> {series.name}</b><br/>%K: {point.y}<br/>%D: {point.smoothed}<br/>'},
smoothedLine:{styles:{lineWidth:1,lineColor:void 0}},dataGrouping:{approximation:"averages"}});return e}(q);n(e.prototype,{nameComponents:["periods"],nameBase:"Stochastic",pointArrayMap:["y","smoothed"],parallelArrays:["x","y","smoothed"],pointValKey:"y",linesApiNames:["smoothedLine"]});b.compose(e);h.registerSeriesType("stochastic",e);"";return e});b(a,"masters/indicators/stochastic.src.js",[],function(){})});
//# sourceMappingURL=stochastic.js.map