/*
 Highcharts JS v11.1.0 (2023-06-05)

 Arc diagram module

 (c) 2021 Piotr Madej

 License: www.highcharts.com/license
*/
'use strict';(function(a){"object"===typeof module&&module.exports?(a["default"]=a,module.exports=a):"function"===typeof define&&define.amd?define("highcharts/modules/arc-diagram",["highcharts","highcharts/modules/sankey"],function(f){a(f);a.Highcharts=f;return a}):a("undefined"!==typeof Highcharts?Highcharts:void 0)})(function(a){function f(a,l,r,f){a.hasOwnProperty(l)||(a[l]=f.apply(null,r),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("HighchartsModuleLoaded",{detail:{path:l,
module:a[l]}})))}a=a?a._modules:{};f(a,"Series/ArcDiagram/ArcDiagramPoint.js",[a["Series/NodesComposition.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,l,f){var q=this&&this.__extends||function(){var a=function(d,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,e){a.__proto__=e}||function(a,e){for(var d in e)Object.prototype.hasOwnProperty.call(e,d)&&(a[d]=e[d])};return a(d,e)};return function(d,e){function f(){this.constructor=d}if("function"!==
typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");a(d,e);d.prototype=null===e?Object.create(e):(f.prototype=e.prototype,new f)}}();f=f.extend;l=function(a){function d(){var e=null!==a&&a.apply(this,arguments)||this;e.fromNode=void 0;e.index=void 0;e.linksFrom=void 0;e.linksTo=void 0;e.options=void 0;e.series=void 0;e.scale=void 0;e.shapeArgs=void 0;e.toNode=void 0;return e}q(d,a);d.prototype.isValid=function(){return!0};return d}(l.seriesTypes.sankey.prototype.pointClass);
f(l.prototype,{setState:a.setNodeState});return l});f(a,"Series/ArcDiagram/ArcDiagramSeries.js",[a["Series/ArcDiagram/ArcDiagramPoint.js"],a["Series/Sankey/SankeyColumnComposition.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,f,r,q,n,d){var e=this&&this.__extends||function(){var a=function(e,b){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,c){b.__proto__=c}||function(b,c){for(var a in c)Object.prototype.hasOwnProperty.call(c,
a)&&(b[a]=c[a])};return a(e,b)};return function(e,b){function g(){this.constructor=e}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");a(e,b);e.prototype=null===b?Object.create(b):(g.prototype=b.prototype,new g)}}(),l=this&&this.__rest||function(a,e){var b={},g;for(g in a)Object.prototype.hasOwnProperty.call(a,g)&&0>e.indexOf(g)&&(b[g]=a[g]);if(null!=a&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(g=Object.getOwnPropertySymbols(a);c<
g.length;c++)0>e.indexOf(g[c])&&Object.prototype.propertyIsEnumerable.call(a,g[c])&&(b[g[c]]=a[g[c]])}return b},x=n.prototype.symbols;n=q.seriesTypes;var v=n.column,t=n.sankey;n=d.extend;var w=d.merge,u=d.pick,y=d.relativeLength;d=function(a){function d(){var b=null!==a&&a.apply(this,arguments)||this;b.data=void 0;b.options=void 0;b.nodeColumns=void 0;b.nodes=void 0;b.points=void 0;return b}e(d,a);d.prototype.createNodeColumns=function(){var b=this,a=this,c=a.chart,h=f.compose([],a);h.sankeyColumn.maxLength=
c.inverted?c.plotHeight:c.plotWidth;h.sankeyColumn.getTranslationFactor=function(a){for(var e=h.slice(),g=b.options.minLinkWidth||0,d=0,m,p,k=0,f=1,l=0,n=(c.plotSizeX||0)-(a.options.marker&&a.options.marker.lineWidth||0)-(h.length-1)*a.nodePadding;h.length;){d=n/h.sankeyColumn.sum();a=!1;for(m=h.length;m--;){p=h[m].getSum()*d*f;var q=Math.min(c.plotHeight,c.plotWidth);p>q?f=Math.min(q/p,f):p<g&&(h.splice(m,1),n-=g,p=g,a=!0);l+=p*(1-f)/2;k=Math.max(k,p)}if(!a)break}h.length=0;e.forEach(function(a){a.scale=
f;h.push(a)});h.sankeyColumn.maxRadius=k;h.sankeyColumn.scale=f;h.sankeyColumn.additionalSpace=l;return d};h.sankeyColumn.offset=function(b,e){for(var g=b.series.options.equalNodes,d=h.sankeyColumn.additionalSpace||0,m,f=a.nodePadding,k=Math.min(c.plotWidth,c.plotHeight,(h.sankeyColumn.maxLength||0)/a.nodes.length-f),p=0;p<h.length;p++){m=h[p].getSum()*(h.sankeyColumn.scale||0);var z=g?k:Math.max(m*e,a.options.minLinkWidth||0);m=m?z+f:0;if(h[p]===b)return{relativeLeft:d+y(b.options.offset||0,m)};
d+=m}};a.nodes.forEach(function(a){a.column=0;h.push(a)});return[h]};d.prototype.translateLink=function(a){var b=a.fromNode;var c=a.toNode;var h=this.chart,e=this.translationFactor,d=this.options,f=u(a.options.linkWeight,d.linkWeight,Math.max((a.weight||0)*e*b.scale,this.options.minLinkWidth||0)),l=a.series.options.centeredLinks,m=b.nodeY,n=function(b,c){c=(b.offset(a,c)||0)*e;return Math.min(b.nodeX+c,b.nodeX+(b.shapeArgs&&b.shapeArgs.height||0)-f)},k=l?b.nodeX+((b.shapeArgs.height||0)-f)/2:n(b,
"linksFrom");c=l?c.nodeX+((c.shapeArgs.height||0)-f)/2:n(c,"linksTo");k>c&&(c=[c,k],k=c[0],c=c[1]);d.reversed&&(c=[c,k],k=c[0],c=c[1],m=(h.plotSizeY||0)-m);a.shapeType="path";a.linkBase=[k,k+f,c,c+f];d=(c+f-k)/Math.abs(c+f-k)*u(d.linkRadius,Math.min(Math.abs(c+f-k)/2,b.nodeY-Math.abs(f)));a.shapeArgs={d:[["M",k,m],["A",(c+f-k)/2,d,0,0,1,c+f,m],["L",c,m],["A",(c-k-f)/2,d-f,0,0,0,k+f,m],["Z"]]};a.dlBox={x:k+(c-k)/2,y:m-d,height:f,width:0};a.tooltipPos=h.inverted?[(h.plotSizeY||0)-a.dlBox.y-f/2,(h.plotSizeX||
0)-a.dlBox.x]:[a.dlBox.x,a.dlBox.y+f/2];a.y=a.plotY=1;a.x=a.plotX=1;a.color||(a.color=b.color)};d.prototype.translateNode=function(a,d){var c=this.translationFactor,b=this.chart,f=this.options,e=Math.min(b.plotWidth,b.plotHeight,(b.inverted?b.plotWidth:b.plotHeight)/a.series.nodes.length-this.nodePadding),g=a.getSum()*(d.sankeyColumn.scale||0);e=f.equalNodes?e:Math.max(g*c,this.options.minLinkWidth||0);var l=Math.round(f.marker&&f.marker.lineWidth||0)%2/2,m=d.sankeyColumn.offset(a,c);c=Math.floor(u(m&&
m.absoluteLeft,(d.sankeyColumn.left(c)||0)+(m&&m.relativeLeft||0)))+l;var n=w(f.marker,a.options.marker);m=n.symbol;var k=n.radius;d=parseInt(f.offset,10)*((b.inverted?b.plotWidth:b.plotHeight)-(Math.floor(this.colDistance*(a.column||0)+(n.lineWidth||0)/2)+l+(d.sankeyColumn.scale||0)*(d.sankeyColumn.maxRadius||0)/2))/100;(a.sum=g)?(a.nodeX=c,a.nodeY=d,g=a.options.width||f.width||e,e=a.options.height||f.height||e,l=d,f.reversed&&(l=(b.plotSizeY||0)-d,b.inverted&&(l=(b.plotSizeY||0)-d)),this.mapOptionsToLevel&&
(a.dlOptions=t.getDLOptions({level:this.mapOptionsToLevel[a.level],optionsPoint:a.options})),a.plotX=1,a.plotY=1,a.tooltipPos=b.inverted?[(b.plotSizeY||0)-l-e/2,(b.plotSizeX||0)-c-g/2]:[c+g/2,l+e/2],a.shapeType="path",a.shapeArgs={d:x[m||"circle"](c,l-(k||e)/2,k||g,k||e),width:k||g,height:k||e},a.dlBox={x:c+g/2,y:l,height:0,width:0}):a.dlOptions={enabled:!1}};d.prototype.drawDataLabels=function(){if(this.options.dataLabels){var a=this.options.dataLabels.textPath;v.prototype.drawDataLabels.call(this,
this.nodes);this.options.dataLabels.textPath=this.options.dataLabels.linkTextPath;v.prototype.drawDataLabels.call(this,this.data);this.options.dataLabels.textPath=a}};d.prototype.pointAttribs=function(b,d){if(b&&b.isNode){var c=r.prototype.pointAttribs.apply(this,arguments);return l(c,["opacity"])}return a.prototype.pointAttribs.apply(this,arguments)};d.prototype.markerAttribs=function(b){return b.isNode?a.prototype.markerAttribs.apply(this,arguments):{}};d.defaultOptions=w(t.defaultOptions,{centeredLinks:!1,
offset:"100%",equalNodes:!1,reversed:!1,dataLabels:{linkTextPath:{attributes:{startOffset:"25%"}}},marker:{symbol:"circle",fillOpacity:1,lineWidth:0,states:{}}});return d}(t);n(d.prototype,{orderNodes:!1});d.prototype.pointClass=a;q.registerSeriesType("arcdiagram",d);"";return d});f(a,"masters/modules/arc-diagram.src.js",[],function(){})});
//# sourceMappingURL=arc-diagram.js.map