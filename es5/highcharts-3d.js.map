{"version":3,"sources":["<anon>"],"sourcesContent":["/**\n * @license Highcharts JS v11.2.0 (2023-10-30)\n *\n * 3D features for Highcharts JS\n *\n * License: www.highcharts.com/license\n */\n(function (factory) {\n    if (typeof module === 'object' && module.exports) {\n        factory['default'] = factory;\n        module.exports = factory;\n    } else if (typeof define === 'function' && define.amd) {\n        define('highcharts/highcharts-3d', ['highcharts'], function (Highcharts) {\n            factory(Highcharts);\n            factory.Highcharts = Highcharts;\n            return factory;\n        });\n    } else {\n        factory(typeof Highcharts !== 'undefined' ? Highcharts : undefined);\n    }\n}(function (Highcharts) {\n    'use strict';\n    var _modules = Highcharts ? Highcharts._modules : {};\n    function _registerModule(obj, path, args, fn) {\n        if (!obj.hasOwnProperty(path)) {\n            obj[path] = fn.apply(null, args);\n\n            if (typeof CustomEvent === 'function') {\n                window.dispatchEvent(new CustomEvent(\n                    'HighchartsModuleLoaded',\n                    { detail: { path: path, module: obj[path] } }\n                ));\n            }\n        }\n    }\n    _registerModule(_modules, 'Core/Math3D.js', [_modules['Core/Globals.js'], _modules['Core/Utilities.js']], function (H, U) {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var deg2rad = H.deg2rad;\n        var pick = U.pick;\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /* eslint-disable max-len */\n        /**\n         * Apply 3-D rotation\n         * Euler Angles (XYZ):\n         *     cosA = cos(Alfa|Roll)\n         *     cosB = cos(Beta|Pitch)\n         *     cosG = cos(Gamma|Yaw)\n         *\n         * Composite rotation:\n         * |          cosB * cosG             |           cosB * sinG            |    -sinB    |\n         * | sinA * sinB * cosG - cosA * sinG | sinA * sinB * sinG + cosA * cosG | sinA * cosB |\n         * | cosA * sinB * cosG + sinA * sinG | cosA * sinB * sinG - sinA * cosG | cosA * cosB |\n         *\n         * Now, Gamma/Yaw is not used (angle=0), so we assume cosG = 1 and sinG = 0, so\n         * we get:\n         * |     cosB    |   0    |   - sinB    |\n         * | sinA * sinB |  cosA  | sinA * cosB |\n         * | cosA * sinB | - sinA | cosA * cosB |\n         *\n         * But in browsers, y is reversed, so we get sinA => -sinA. The general result\n         * is:\n         * |      cosB     |   0    |    - sinB     |     | x |     | px |\n         * | - sinA * sinB |  cosA  | - sinA * cosB |  x  | y |  =  | py |\n         * |  cosA * sinB  |  sinA  |  cosA * cosB  |     | z |     | pz |\n         *\n         * @private\n         * @function rotate3D\n         */\n        /* eslint-enable max-len */\n        /**\n         * Rotates the position as defined in angles.\n         * @private\n         * @param {number} x\n         *        X coordinate\n         * @param {number} y\n         *        Y coordinate\n         * @param {number} z\n         *        Z coordinate\n         * @param {Highcharts.Rotation3DObject} angles\n         *        Rotation angles\n         * @return {Highcharts.Position3DObject}\n         *         Rotated position\n         */\n        function rotate3D(x, y, z, angles) {\n            return {\n                x: angles.cosB * x - angles.sinB * z,\n                y: -angles.sinA * angles.sinB * x + angles.cosA * y -\n                    angles.cosB * angles.sinA * z,\n                z: angles.cosA * angles.sinB * x + angles.sinA * y +\n                    angles.cosA * angles.cosB * z\n            };\n        }\n        /**\n         * Transforms a given array of points according to the angles in chart.options.\n         *\n         * @private\n         * @function Highcharts.perspective\n         *\n         * @param {Array<Highcharts.Position3DObject>} points\n         * The array of points\n         *\n         * @param {Highcharts.Chart} chart\n         * The chart\n         *\n         * @param {boolean} [insidePlotArea]\n         * Whether to verify that the points are inside the plotArea\n         *\n         * @param {boolean} [useInvertedPersp]\n         * Whether to use inverted perspective in calculations\n         *\n         * @return {Array<Highcharts.Position3DObject>}\n         * An array of transformed points\n         *\n         * @requires highcharts-3d\n         */\n        function perspective(points, chart, insidePlotArea, useInvertedPersp) {\n            var options3d = chart.options.chart.options3d, \n            /* The useInvertedPersp argument is used for inverted charts with\n             * already inverted elements, such as dataLabels or tooltip positions.\n             */\n            inverted = pick(useInvertedPersp, insidePlotArea ? chart.inverted : false), origin = {\n                x: chart.plotWidth / 2,\n                y: chart.plotHeight / 2,\n                z: options3d.depth / 2,\n                vd: pick(options3d.depth, 1) * pick(options3d.viewDistance, 0)\n            }, scale = chart.scale3d || 1, beta = deg2rad * options3d.beta * (inverted ? -1 : 1), alpha = deg2rad * options3d.alpha * (inverted ? -1 : 1), angles = {\n                cosA: Math.cos(alpha),\n                cosB: Math.cos(-beta),\n                sinA: Math.sin(alpha),\n                sinB: Math.sin(-beta)\n            };\n            if (!insidePlotArea) {\n                origin.x += chart.plotLeft;\n                origin.y += chart.plotTop;\n            }\n            // Transform each point\n            return points.map(function (point) {\n                var rotated = rotate3D((inverted ? point.y : point.x) - origin.x, (inverted ? point.x : point.y) - origin.y, (point.z || 0) - origin.z, angles), \n                // Apply perspective\n                coordinate = perspective3D(rotated, origin, origin.vd);\n                // Apply translation\n                coordinate.x = coordinate.x * scale + origin.x;\n                coordinate.y = coordinate.y * scale + origin.y;\n                coordinate.z = rotated.z * scale + origin.z;\n                return {\n                    x: (inverted ? coordinate.y : coordinate.x),\n                    y: (inverted ? coordinate.x : coordinate.y),\n                    z: coordinate.z\n                };\n            });\n        }\n        /**\n         * Perspective3D function is available in global Highcharts scope because is\n         * needed also outside of perspective() function (#8042).\n         * @private\n         * @function Highcharts.perspective3D\n         *\n         * @param {Highcharts.Position3DObject} coordinate\n         * 3D position\n         *\n         * @param {Highcharts.Position3DObject} origin\n         * 3D root position\n         *\n         * @param {number} distance\n         * Perspective distance\n         *\n         * @return {Highcharts.PositionObject}\n         * Perspective 3D Position\n         *\n         * @requires highcharts-3d\n         */\n        function perspective3D(coordinate, origin, distance) {\n            var projection = ((distance > 0) &&\n                (distance < Number.POSITIVE_INFINITY)) ?\n                distance / (coordinate.z + origin.z + distance) :\n                1;\n            return {\n                x: coordinate.x * projection,\n                y: coordinate.y * projection\n            };\n        }\n        /**\n         * Calculate a distance from camera to points - made for calculating zIndex of\n         * scatter points.\n         *\n         * @private\n         * @function Highcharts.pointCameraDistance\n         *\n         * @param {Highcharts.Dictionary<number>} coordinates\n         * Coordinates of the specific point\n         *\n         * @param {Highcharts.Chart} chart\n         * Related chart\n         *\n         * @return {number}\n         * Distance from camera to point\n         *\n         * @requires highcharts-3d\n         */\n        function pointCameraDistance(coordinates, chart) {\n            var options3d = chart.options.chart.options3d, cameraPosition = {\n                x: chart.plotWidth / 2,\n                y: chart.plotHeight / 2,\n                z: pick(options3d.depth, 1) * pick(options3d.viewDistance, 0) +\n                    options3d.depth\n            }, \n            // Added support for objects with plotX or x coordinates.\n            distance = Math.sqrt(Math.pow(cameraPosition.x - pick(coordinates.plotX, coordinates.x), 2) +\n                Math.pow(cameraPosition.y - pick(coordinates.plotY, coordinates.y), 2) +\n                Math.pow(cameraPosition.z - pick(coordinates.plotZ, coordinates.z), 2));\n            return distance;\n        }\n        /**\n         * Calculate area of a 2D polygon using Shoelace algorithm\n         * https://en.wikipedia.org/wiki/Shoelace_formula\n         *\n         * @private\n         * @function Highcharts.shapeArea\n         *\n         * @param {Array<Highcharts.PositionObject>} vertexes\n         * 2D Polygon\n         *\n         * @return {number}\n         * Calculated area\n         *\n         * @requires highcharts-3d\n         */\n        function shapeArea(vertexes) {\n            var area = 0, i, j;\n            for (i = 0; i < vertexes.length; i++) {\n                j = (i + 1) % vertexes.length;\n                area += vertexes[i].x * vertexes[j].y - vertexes[j].x * vertexes[i].y;\n            }\n            return area / 2;\n        }\n        /**\n         * Calculate area of a 3D polygon after perspective projection\n         *\n         * @private\n         * @function Highcharts.shapeArea3d\n         *\n         * @param {Array<Highcharts.Position3DObject>} vertexes\n         * 3D Polygon\n         *\n         * @param {Highcharts.Chart} chart\n         * Related chart\n         *\n         * @param {boolean} [insidePlotArea]\n         * Whether to verify that the points are inside the plotArea\n         *\n         * @return {number}\n         * Calculated area\n         *\n         * @requires highcharts-3d\n         */\n        function shapeArea3D(vertexes, chart, insidePlotArea) {\n            return shapeArea(perspective(vertexes, chart, insidePlotArea));\n        }\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var Math3D = {\n            perspective: perspective,\n            perspective3D: perspective3D,\n            pointCameraDistance: pointCameraDistance,\n            shapeArea: shapeArea,\n            shapeArea3D: shapeArea3D\n        };\n\n        return Math3D;\n    });\n    _registerModule(_modules, 'Core/Chart/Chart3D.js', [_modules['Core/Color/Color.js'], _modules['Core/Defaults.js'], _modules['Core/Math3D.js'], _modules['Core/Utilities.js']], function (Color, D, Math3D, U) {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  Extension for 3D charts\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var color = Color.parse;\n        var genericDefaultOptions = D.defaultOptions;\n        var perspective = Math3D.perspective, shapeArea3D = Math3D.shapeArea3D;\n        var addEvent = U.addEvent, isArray = U.isArray, merge = U.merge, pick = U.pick, wrap = U.wrap;\n        /* *\n         *\n         *  Composition\n         *\n         * */\n        var Chart3D;\n        (function (Chart3D) {\n            /* *\n             *\n             *  Declarations\n             *\n             * */\n            /* *\n             *\n             *  Constants\n             *\n             * */\n            /**\n             * @optionparent\n             * @private\n             */\n            Chart3D.defaultOptions = {\n                chart: {\n                    /**\n                     * Options to render charts in 3 dimensions. This feature requires\n                     * `highcharts-3d.js`, found in the download package or online at\n                     * [code.highcharts.com/highcharts-3d.js](https://code.highcharts.com/highcharts-3d.js).\n                     *\n                     * @since    4.0\n                     * @product  highcharts\n                     * @requires highcharts-3d\n                     */\n                    options3d: {\n                        /**\n                         * Whether to render the chart using the 3D functionality.\n                         *\n                         * @since   4.0\n                         * @product highcharts\n                         */\n                        enabled: false,\n                        /**\n                         * One of the two rotation angles for the chart.\n                         *\n                         * @since   4.0\n                         * @product highcharts\n                         */\n                        alpha: 0,\n                        /**\n                         * One of the two rotation angles for the chart.\n                         *\n                         * @since   4.0\n                         * @product highcharts\n                         */\n                        beta: 0,\n                        /**\n                         * The total depth of the chart.\n                         *\n                         * @since   4.0\n                         * @product highcharts\n                         */\n                        depth: 100,\n                        /**\n                         * Whether the 3d box should automatically adjust to the chart\n                         * plot area.\n                         *\n                         * @since   4.2.4\n                         * @product highcharts\n                         */\n                        fitToPlot: true,\n                        /**\n                         * Defines the distance the viewer is standing in front of the\n                         * chart, this setting is important to calculate the perspective\n                         * effect in column and scatter charts. It is not used for 3D\n                         * pie charts.\n                         *\n                         * @since   4.0\n                         * @product highcharts\n                         */\n                        viewDistance: 25,\n                        /**\n                         * Set it to `\"auto\"` to automatically move the labels to the\n                         * best edge.\n                         *\n                         * @type    {\"auto\"|null}\n                         * @since   5.0.12\n                         * @product highcharts\n                         */\n                        axisLabelPosition: null,\n                        /**\n                         * Provides the option to draw a frame around the charts by\n                         * defining a bottom, front and back panel.\n                         *\n                         * @since    4.0\n                         * @product  highcharts\n                         * @requires highcharts-3d\n                         */\n                        frame: {\n                            /**\n                             * Whether the frames are visible.\n                             */\n                            visible: 'default',\n                            /**\n                             * General pixel thickness for the frame faces.\n                             */\n                            size: 1,\n                            /**\n                             * The bottom of the frame around a 3D chart.\n                             *\n                             * @since    4.0\n                             * @product  highcharts\n                             * @requires highcharts-3d\n                             */\n                            /**\n                             * The color of the panel.\n                             *\n                             * @type      {Highcharts.ColorString|Highcharts.GradientColorObject|Highcharts.PatternObject}\n                             * @default   transparent\n                             * @since     4.0\n                             * @product   highcharts\n                             * @apioption chart.options3d.frame.bottom.color\n                             */\n                            /**\n                             * The thickness of the panel.\n                             *\n                             * @type      {number}\n                             * @default   1\n                             * @since     4.0\n                             * @product   highcharts\n                             * @apioption chart.options3d.frame.bottom.size\n                             */\n                            /**\n                             * Whether to display the frame. Possible values are `true`,\n                             * `false`, `\"auto\"` to display only the frames behind the\n                             * data, and `\"default\"` to display faces behind the data\n                             * based on the axis layout, ignoring the point of view.\n                             *\n                             * @sample {highcharts} highcharts/3d/scatter-frame/\n                             *         Auto frames\n                             *\n                             * @type      {boolean|\"default\"|\"auto\"}\n                             * @default   default\n                             * @since     5.0.12\n                             * @product   highcharts\n                             * @apioption chart.options3d.frame.bottom.visible\n                             */\n                            /**\n                             * The bottom of the frame around a 3D chart.\n                             */\n                            bottom: {},\n                            /**\n                             * The top of the frame around a 3D chart.\n                             *\n                             * @extends chart.options3d.frame.bottom\n                             */\n                            top: {},\n                            /**\n                             * The left side of the frame around a 3D chart.\n                             *\n                             * @extends chart.options3d.frame.bottom\n                             */\n                            left: {},\n                            /**\n                             * The right of the frame around a 3D chart.\n                             *\n                             * @extends chart.options3d.frame.bottom\n                             */\n                            right: {},\n                            /**\n                             * The back side of the frame around a 3D chart.\n                             *\n                             * @extends chart.options3d.frame.bottom\n                             */\n                            back: {},\n                            /**\n                             * The front of the frame around a 3D chart.\n                             *\n                             * @extends chart.options3d.frame.bottom\n                             */\n                            front: {}\n                        }\n                    }\n                }\n            };\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * @private\n             */\n            function compose(ChartClass, FxClass) {\n                var chartProto = ChartClass.prototype;\n                var fxProto = FxClass.prototype;\n                /**\n                 * Shorthand to check the is3d flag.\n                 * @private\n                 * @return {boolean}\n                 * Whether it is a 3D chart.\n                 */\n                chartProto.is3d = function () {\n                    return Boolean(this.options.chart.options3d &&\n                        this.options.chart.options3d.enabled); // #4280\n                };\n                chartProto.propsRequireDirtyBox.push('chart.options3d');\n                chartProto.propsRequireUpdateSeries.push('chart.options3d');\n                /**\n                 * Animation setter for matrix property.\n                 * @private\n                 */\n                fxProto.matrixSetter = function () {\n                    var interpolated;\n                    if (this.pos < 1 &&\n                        (isArray(this.start) || isArray(this.end))) {\n                        var start = (this.start ||\n                            [1, 0, 0, 1, 0, 0]), end = this.end || [1, 0, 0, 1, 0, 0];\n                        interpolated = [];\n                        for (var i = 0; i < 6; i++) {\n                            interpolated.push(this.pos * end[i] + (1 - this.pos) * start[i]);\n                        }\n                    }\n                    else {\n                        interpolated = this.end;\n                    }\n                    this.elem.attr(this.prop, interpolated, null, true);\n                };\n                merge(true, genericDefaultOptions, Chart3D.defaultOptions);\n                addEvent(ChartClass, 'init', onInit);\n                addEvent(ChartClass, 'addSeries', onAddSeries);\n                addEvent(ChartClass, 'afterDrawChartBox', onAfterDrawChartBox);\n                addEvent(ChartClass, 'afterGetContainer', onAfterGetContainer);\n                addEvent(ChartClass, 'afterInit', onAfterInit);\n                addEvent(ChartClass, 'afterSetChartSize', onAfterSetChartSize);\n                addEvent(ChartClass, 'beforeRedraw', onBeforeRedraw);\n                addEvent(ChartClass, 'beforeRender', onBeforeRender);\n                wrap(chartProto, 'isInsidePlot', wrapIsInsidePlot);\n                wrap(chartProto, 'renderSeries', wrapRenderSeries);\n                wrap(chartProto, 'setClassName', wrapSetClassName);\n            }\n            Chart3D.compose = compose;\n            /**\n             * Legacy support for HC < 6 to make 'scatter' series in a 3D chart route to\n             * the real 'scatter3d' series type. (#8407)\n             * @private\n             */\n            function onAddSeries(e) {\n                if (this.is3d()) {\n                    if (e.options.type === 'scatter') {\n                        e.options.type = 'scatter3d';\n                    }\n                }\n            }\n            /**\n             * @private\n             */\n            function onAfterDrawChartBox() {\n                if (this.chart3d &&\n                    this.is3d()) {\n                    var chart = this, renderer = chart.renderer, options3d = chart.options.chart.options3d, frame = chart.chart3d.get3dFrame(), xm = chart.plotLeft, xp = chart.plotLeft + chart.plotWidth, ym = chart.plotTop, yp = chart.plotTop + chart.plotHeight, zm = 0, zp = options3d.depth, xmm = xm - (frame.left.visible ? frame.left.size : 0), xpp = xp + (frame.right.visible ? frame.right.size : 0), ymm = ym - (frame.top.visible ? frame.top.size : 0), ypp = yp + (frame.bottom.visible ? frame.bottom.size : 0), zmm = zm - (frame.front.visible ? frame.front.size : 0), zpp = zp + (frame.back.visible ? frame.back.size : 0), verb = chart.hasRendered ? 'animate' : 'attr';\n                    chart.chart3d.frame3d = frame;\n                    if (!chart.frameShapes) {\n                        chart.frameShapes = {\n                            bottom: renderer.polyhedron().add(),\n                            top: renderer.polyhedron().add(),\n                            left: renderer.polyhedron().add(),\n                            right: renderer.polyhedron().add(),\n                            back: renderer.polyhedron().add(),\n                            front: renderer.polyhedron().add()\n                        };\n                    }\n                    chart.frameShapes.bottom[verb]({\n                        'class': 'highcharts-3d-frame highcharts-3d-frame-bottom',\n                        zIndex: frame.bottom.frontFacing ? -1000 : 1000,\n                        faces: [{\n                                fill: color(frame.bottom.color).brighten(0.1).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zpp\n                                    }],\n                                enabled: frame.bottom.visible\n                            },\n                            {\n                                fill: color(frame.bottom.color).brighten(0.1).get(),\n                                vertexes: [{\n                                        x: xm,\n                                        y: yp,\n                                        z: zp\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zp\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zm\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zm\n                                    }],\n                                enabled: frame.bottom.visible\n                            },\n                            {\n                                fill: color(frame.bottom.color).brighten(-0.1).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zp\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zm\n                                    }],\n                                enabled: frame.bottom.visible && !frame.left.visible\n                            },\n                            {\n                                fill: color(frame.bottom.color).brighten(-0.1).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zm\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zp\n                                    }],\n                                enabled: frame.bottom.visible && !frame.right.visible\n                            },\n                            {\n                                fill: color(frame.bottom.color).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zm\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zm\n                                    }],\n                                enabled: frame.bottom.visible && !frame.front.visible\n                            },\n                            {\n                                fill: color(frame.bottom.color).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zp\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zp\n                                    }],\n                                enabled: frame.bottom.visible && !frame.back.visible\n                            }]\n                    });\n                    chart.frameShapes.top[verb]({\n                        'class': 'highcharts-3d-frame highcharts-3d-frame-top',\n                        zIndex: frame.top.frontFacing ? -1000 : 1000,\n                        faces: [{\n                                fill: color(frame.top.color).brighten(0.1).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zmm\n                                    }],\n                                enabled: frame.top.visible\n                            },\n                            {\n                                fill: color(frame.top.color).brighten(0.1).get(),\n                                vertexes: [{\n                                        x: xm,\n                                        y: ym,\n                                        z: zm\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zm\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zp\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zp\n                                    }],\n                                enabled: frame.top.visible\n                            },\n                            {\n                                fill: color(frame.top.color).brighten(-0.1).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zm\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zp\n                                    }],\n                                enabled: frame.top.visible && !frame.left.visible\n                            },\n                            {\n                                fill: color(frame.top.color).brighten(-0.1).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zp\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zm\n                                    }],\n                                enabled: frame.top.visible && !frame.right.visible\n                            },\n                            {\n                                fill: color(frame.top.color).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zm\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zm\n                                    }],\n                                enabled: frame.top.visible && !frame.front.visible\n                            },\n                            {\n                                fill: color(frame.top.color).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zp\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zp\n                                    }],\n                                enabled: frame.top.visible && !frame.back.visible\n                            }]\n                    });\n                    chart.frameShapes.left[verb]({\n                        'class': 'highcharts-3d-frame highcharts-3d-frame-left',\n                        zIndex: frame.left.frontFacing ? -1000 : 1000,\n                        faces: [{\n                                fill: color(frame.left.color).brighten(0.1).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zm\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zp\n                                    }, {\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zpp\n                                    }],\n                                enabled: frame.left.visible && !frame.bottom.visible\n                            },\n                            {\n                                fill: color(frame.left.color).brighten(0.1).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zp\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zm\n                                    }, {\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zmm\n                                    }],\n                                enabled: frame.left.visible && !frame.top.visible\n                            },\n                            {\n                                fill: color(frame.left.color).brighten(-0.1).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zmm\n                                    }],\n                                enabled: frame.left.visible\n                            },\n                            {\n                                fill: color(frame.left.color).brighten(-0.1).get(),\n                                vertexes: [{\n                                        x: xm,\n                                        y: ym,\n                                        z: zp\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zp\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zm\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zm\n                                    }],\n                                enabled: frame.left.visible\n                            },\n                            {\n                                fill: color(frame.left.color).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zm\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zm\n                                    }],\n                                enabled: frame.left.visible && !frame.front.visible\n                            },\n                            {\n                                fill: color(frame.left.color).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zp\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zp\n                                    }],\n                                enabled: frame.left.visible && !frame.back.visible\n                            }]\n                    });\n                    chart.frameShapes.right[verb]({\n                        'class': 'highcharts-3d-frame highcharts-3d-frame-right',\n                        zIndex: frame.right.frontFacing ? -1000 : 1000,\n                        faces: [{\n                                fill: color(frame.right.color).brighten(0.1).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zp\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zm\n                                    }, {\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zmm\n                                    }],\n                                enabled: frame.right.visible && !frame.bottom.visible\n                            },\n                            {\n                                fill: color(frame.right.color).brighten(0.1).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zm\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zp\n                                    }, {\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zpp\n                                    }],\n                                enabled: frame.right.visible && !frame.top.visible\n                            },\n                            {\n                                fill: color(frame.right.color).brighten(-0.1).get(),\n                                vertexes: [{\n                                        x: xp,\n                                        y: ym,\n                                        z: zm\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zm\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zp\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zp\n                                    }],\n                                enabled: frame.right.visible\n                            },\n                            {\n                                fill: color(frame.right.color).brighten(-0.1).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zpp\n                                    }],\n                                enabled: frame.right.visible\n                            },\n                            {\n                                fill: color(frame.right.color).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zm\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zm\n                                    }],\n                                enabled: frame.right.visible && !frame.front.visible\n                            },\n                            {\n                                fill: color(frame.right.color).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zp\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zp\n                                    }],\n                                enabled: frame.right.visible && !frame.back.visible\n                            }]\n                    });\n                    chart.frameShapes.back[verb]({\n                        'class': 'highcharts-3d-frame highcharts-3d-frame-back',\n                        zIndex: frame.back.frontFacing ? -1000 : 1000,\n                        faces: [{\n                                fill: color(frame.back.color).brighten(0.1).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zp\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zp\n                                    }],\n                                enabled: frame.back.visible && !frame.bottom.visible\n                            },\n                            {\n                                fill: color(frame.back.color).brighten(0.1).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zp\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zp\n                                    }],\n                                enabled: frame.back.visible && !frame.top.visible\n                            },\n                            {\n                                fill: color(frame.back.color).brighten(-0.1).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zp\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zp\n                                    }],\n                                enabled: frame.back.visible && !frame.left.visible\n                            },\n                            {\n                                fill: color(frame.back.color).brighten(-0.1).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zp\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zp\n                                    }],\n                                enabled: frame.back.visible && !frame.right.visible\n                            },\n                            {\n                                fill: color(frame.back.color).get(),\n                                vertexes: [{\n                                        x: xm,\n                                        y: ym,\n                                        z: zp\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zp\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zp\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zp\n                                    }],\n                                enabled: frame.back.visible\n                            },\n                            {\n                                fill: color(frame.back.color).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zpp\n                                    }, {\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zpp\n                                    }, {\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zpp\n                                    }],\n                                enabled: frame.back.visible\n                            }]\n                    });\n                    chart.frameShapes.front[verb]({\n                        'class': 'highcharts-3d-frame highcharts-3d-frame-front',\n                        zIndex: frame.front.frontFacing ? -1000 : 1000,\n                        faces: [{\n                                fill: color(frame.front.color).brighten(0.1).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zm\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zm\n                                    }],\n                                enabled: frame.front.visible && !frame.bottom.visible\n                            },\n                            {\n                                fill: color(frame.front.color).brighten(0.1).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zm\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zm\n                                    }],\n                                enabled: frame.front.visible && !frame.top.visible\n                            },\n                            {\n                                fill: color(frame.front.color).brighten(-0.1).get(),\n                                vertexes: [{\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zm\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zm\n                                    }],\n                                enabled: frame.front.visible && !frame.left.visible\n                            },\n                            {\n                                fill: color(frame.front.color).brighten(-0.1).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xp,\n                                        y: ym,\n                                        z: zm\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zm\n                                    }],\n                                enabled: frame.front.visible && !frame.right.visible\n                            },\n                            {\n                                fill: color(frame.front.color).get(),\n                                vertexes: [{\n                                        x: xp,\n                                        y: ym,\n                                        z: zm\n                                    }, {\n                                        x: xm,\n                                        y: ym,\n                                        z: zm\n                                    }, {\n                                        x: xm,\n                                        y: yp,\n                                        z: zm\n                                    }, {\n                                        x: xp,\n                                        y: yp,\n                                        z: zm\n                                    }],\n                                enabled: frame.front.visible\n                            },\n                            {\n                                fill: color(frame.front.color).get(),\n                                vertexes: [{\n                                        x: xpp,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xmm,\n                                        y: ypp,\n                                        z: zmm\n                                    }, {\n                                        x: xmm,\n                                        y: ymm,\n                                        z: zmm\n                                    }, {\n                                        x: xpp,\n                                        y: ymm,\n                                        z: zmm\n                                    }],\n                                enabled: frame.front.visible\n                            }]\n                    });\n                }\n            }\n            /**\n             * Add the required CSS classes for column sides (#6018)\n             * @private\n             */\n            function onAfterGetContainer() {\n                if (this.styledMode) {\n                    // Add definitions used by brighter and darker faces of the cuboids.\n                    [{\n                            name: 'darker',\n                            slope: 0.6\n                        }, {\n                            name: 'brighter',\n                            slope: 1.4\n                        }].forEach(function (cfg) {\n                        this.renderer.definition({\n                            tagName: 'filter',\n                            attributes: {\n                                id: 'highcharts-' + cfg.name\n                            },\n                            children: [{\n                                    tagName: 'feComponentTransfer',\n                                    children: [{\n                                            tagName: 'feFuncR',\n                                            attributes: {\n                                                type: 'linear',\n                                                slope: cfg.slope\n                                            }\n                                        }, {\n                                            tagName: 'feFuncG',\n                                            attributes: {\n                                                type: 'linear',\n                                                slope: cfg.slope\n                                            }\n                                        }, {\n                                            tagName: 'feFuncB',\n                                            attributes: {\n                                                type: 'linear',\n                                                slope: cfg.slope\n                                            }\n                                        }]\n                                }]\n                        });\n                    }, this);\n                }\n            }\n            /**\n             * Legacy support for HC < 6 to make 'scatter' series in a 3D chart route to\n             * the real 'scatter3d' series type. (#8407)\n             * @private\n             */\n            function onAfterInit() {\n                var options = this.options;\n                if (this.is3d()) {\n                    (options.series || []).forEach(function (s) {\n                        var type = (s.type ||\n                            options.chart.type ||\n                            options.chart.defaultSeriesType);\n                        if (type === 'scatter') {\n                            s.type = 'scatter3d';\n                        }\n                    });\n                }\n            }\n            /**\n             * @private\n             */\n            function onAfterSetChartSize() {\n                var chart = this, options3d = chart.options.chart.options3d;\n                if (chart.chart3d &&\n                    chart.is3d()) {\n                    // Add a 0-360 normalisation for alfa and beta angles in 3d graph\n                    if (options3d) {\n                        options3d.alpha = options3d.alpha % 360 +\n                            (options3d.alpha >= 0 ? 0 : 360);\n                        options3d.beta = options3d.beta % 360 +\n                            (options3d.beta >= 0 ? 0 : 360);\n                    }\n                    var inverted = chart.inverted, clipBox = chart.clipBox, margin = chart.margin, x = inverted ? 'y' : 'x', y = inverted ? 'x' : 'y', w = inverted ? 'height' : 'width', h = inverted ? 'width' : 'height';\n                    clipBox[x] = -(margin[3] || 0);\n                    clipBox[y] = -(margin[0] || 0);\n                    clipBox[w] = (chart.chartWidth + (margin[3] || 0) + (margin[1] || 0));\n                    clipBox[h] = (chart.chartHeight + (margin[0] || 0) + (margin[2] || 0));\n                    // Set scale, used later in perspective method():\n                    // getScale uses perspective, so scale3d has to be reset.\n                    chart.scale3d = 1;\n                    if (options3d.fitToPlot === true) {\n                        chart.scale3d = chart.chart3d.getScale(options3d.depth);\n                    }\n                    // Recalculate the 3d frame with every call of setChartSize,\n                    // instead of doing it after every redraw(). It avoids ticks\n                    // and axis title outside of chart.\n                    chart.chart3d.frame3d = chart.chart3d.get3dFrame(); // #7942\n                }\n            }\n            /**\n             * @private\n             */\n            function onBeforeRedraw() {\n                if (this.is3d()) {\n                    // Set to force a redraw of all elements\n                    this.isDirtyBox = true;\n                }\n            }\n            /**\n             * @private\n             */\n            function onBeforeRender() {\n                if (this.chart3d && this.is3d()) {\n                    this.chart3d.frame3d = this.chart3d.get3dFrame();\n                }\n            }\n            /**\n             * @private\n             */\n            function onInit() {\n                if (!this.chart3d) {\n                    this.chart3d = new Additions(this);\n                }\n            }\n            /**\n             * @private\n             */\n            function wrapIsInsidePlot(proceed) {\n                return this.is3d() || proceed.apply(this, [].slice.call(arguments, 1));\n            }\n            /**\n             * Draw the series in the reverse order (#3803, #3917)\n             * @private\n             */\n            function wrapRenderSeries(proceed) {\n                var series, i = this.series.length;\n                if (this.is3d()) {\n                    while (i--) {\n                        series = this.series[i];\n                        series.translate();\n                        series.render();\n                    }\n                }\n                else {\n                    proceed.call(this);\n                }\n            }\n            /**\n             * @private\n             */\n            function wrapSetClassName(proceed) {\n                proceed.apply(this, [].slice.call(arguments, 1));\n                if (this.is3d()) {\n                    this.container.className += ' highcharts-3d-chart';\n                }\n            }\n            /* *\n             *\n             *  Class\n             *\n             * */\n            var Additions = /** @class */ (function () {\n                /* *\n                 *\n                 *  Constructors\n                 *\n                 * */\n                function Additions(chart) {\n                    this.frame3d = void 0;\n                    this.chart = chart;\n                }\n                /* *\n                 *\n                 *  Functions\n                 *\n                 * */\n                Additions.prototype.get3dFrame = function () {\n                    var chart = this.chart, options3d = chart.options.chart.options3d, frameOptions = options3d.frame, xm = chart.plotLeft, xp = chart.plotLeft + chart.plotWidth, ym = chart.plotTop, yp = chart.plotTop + chart.plotHeight, zm = 0, zp = options3d.depth, faceOrientation = function (vertexes) {\n                        var area = shapeArea3D(vertexes, chart);\n                        // Give it 0.5 squared-pixel as a margin for rounding errors\n                        if (area > 0.5) {\n                            return 1;\n                        }\n                        if (area < -0.5) {\n                            return -1;\n                        }\n                        return 0;\n                    }, bottomOrientation = faceOrientation([\n                        { x: xm, y: yp, z: zp },\n                        { x: xp, y: yp, z: zp },\n                        { x: xp, y: yp, z: zm },\n                        { x: xm, y: yp, z: zm }\n                    ]), topOrientation = faceOrientation([\n                        { x: xm, y: ym, z: zm },\n                        { x: xp, y: ym, z: zm },\n                        { x: xp, y: ym, z: zp },\n                        { x: xm, y: ym, z: zp }\n                    ]), leftOrientation = faceOrientation([\n                        { x: xm, y: ym, z: zm },\n                        { x: xm, y: ym, z: zp },\n                        { x: xm, y: yp, z: zp },\n                        { x: xm, y: yp, z: zm }\n                    ]), rightOrientation = faceOrientation([\n                        { x: xp, y: ym, z: zp },\n                        { x: xp, y: ym, z: zm },\n                        { x: xp, y: yp, z: zm },\n                        { x: xp, y: yp, z: zp }\n                    ]), frontOrientation = faceOrientation([\n                        { x: xm, y: yp, z: zm },\n                        { x: xp, y: yp, z: zm },\n                        { x: xp, y: ym, z: zm },\n                        { x: xm, y: ym, z: zm }\n                    ]), backOrientation = faceOrientation([\n                        { x: xm, y: ym, z: zp },\n                        { x: xp, y: ym, z: zp },\n                        { x: xp, y: yp, z: zp },\n                        { x: xm, y: yp, z: zp }\n                    ]), defaultShowFront = false, defaultShowBack = true;\n                    var defaultShowBottom = false, defaultShowTop = false, defaultShowLeft = false, defaultShowRight = false;\n                    // The 'default' criteria to visible faces of the frame is looking\n                    // up every axis to decide whenever the left/right//top/bottom sides\n                    // of the frame will be shown\n                    []\n                        .concat(chart.xAxis, chart.yAxis, chart.zAxis)\n                        .forEach(function (axis) {\n                        if (axis) {\n                            if (axis.horiz) {\n                                if (axis.opposite) {\n                                    defaultShowTop = true;\n                                }\n                                else {\n                                    defaultShowBottom = true;\n                                }\n                            }\n                            else {\n                                if (axis.opposite) {\n                                    defaultShowRight = true;\n                                }\n                                else {\n                                    defaultShowLeft = true;\n                                }\n                            }\n                        }\n                    });\n                    var getFaceOptions = function (sources, faceOrientation, defaultVisible) {\n                        var faceAttrs = ['size', 'color', 'visible'], options = {};\n                        for (var i = 0; i < faceAttrs.length; i++) {\n                            var attr = faceAttrs[i];\n                            for (var j = 0; j < sources.length; j++) {\n                                if (typeof sources[j] === 'object') {\n                                    var val = sources[j][attr];\n                                    if (typeof val !== 'undefined' && val !== null) {\n                                        options[attr] = val;\n                                        break;\n                                    }\n                                }\n                            }\n                        }\n                        var isVisible = defaultVisible;\n                        if (options.visible === true || options.visible === false) {\n                            isVisible = options.visible;\n                        }\n                        else if (options.visible === 'auto') {\n                            isVisible = faceOrientation > 0;\n                        }\n                        return {\n                            size: pick(options.size, 1),\n                            color: pick(options.color, 'none'),\n                            frontFacing: faceOrientation > 0,\n                            visible: isVisible\n                        };\n                    };\n                    // docs @TODO: Add all frame options (left, right, top, bottom,\n                    // front, back) to apioptions JSDoc once the new system is up.\n                    var ret = {\n                        axes: {},\n                        // FIXME: Previously, left/right, top/bottom and front/back\n                        // pairs shared size and color.\n                        // For compatibility and consistency sake, when one face have\n                        // size/color/visibility set, the opposite face will default to\n                        // the same values. Also, left/right used to be called 'side',\n                        // so that's also added as a fallback.\n                        bottom: getFaceOptions([frameOptions.bottom, frameOptions.top, frameOptions], bottomOrientation, defaultShowBottom),\n                        top: getFaceOptions([frameOptions.top, frameOptions.bottom, frameOptions], topOrientation, defaultShowTop),\n                        left: getFaceOptions([\n                            frameOptions.left,\n                            frameOptions.right,\n                            frameOptions.side,\n                            frameOptions\n                        ], leftOrientation, defaultShowLeft),\n                        right: getFaceOptions([\n                            frameOptions.right,\n                            frameOptions.left,\n                            frameOptions.side,\n                            frameOptions\n                        ], rightOrientation, defaultShowRight),\n                        back: getFaceOptions([frameOptions.back, frameOptions.front, frameOptions], backOrientation, defaultShowBack),\n                        front: getFaceOptions([frameOptions.front, frameOptions.back, frameOptions], frontOrientation, defaultShowFront)\n                    };\n                    // Decide the bast place to put axis title/labels based on the\n                    // visible faces. Ideally, The labels can only be on the edge\n                    // between a visible face and an invisble one. Also, the Y label\n                    // should be one the left-most edge (right-most if opposite).\n                    if (options3d.axisLabelPosition === 'auto') {\n                        var isValidEdge = function (face1, face2) {\n                            return ((face1.visible !== face2.visible) ||\n                                (face1.visible &&\n                                    face2.visible &&\n                                    (face1.frontFacing !== face2.frontFacing)));\n                        };\n                        var yEdges = [];\n                        if (isValidEdge(ret.left, ret.front)) {\n                            yEdges.push({\n                                y: (ym + yp) / 2,\n                                x: xm,\n                                z: zm,\n                                xDir: { x: 1, y: 0, z: 0 }\n                            });\n                        }\n                        if (isValidEdge(ret.left, ret.back)) {\n                            yEdges.push({\n                                y: (ym + yp) / 2,\n                                x: xm,\n                                z: zp,\n                                xDir: { x: 0, y: 0, z: -1 }\n                            });\n                        }\n                        if (isValidEdge(ret.right, ret.front)) {\n                            yEdges.push({\n                                y: (ym + yp) / 2,\n                                x: xp,\n                                z: zm,\n                                xDir: { x: 0, y: 0, z: 1 }\n                            });\n                        }\n                        if (isValidEdge(ret.right, ret.back)) {\n                            yEdges.push({\n                                y: (ym + yp) / 2,\n                                x: xp,\n                                z: zp,\n                                xDir: { x: -1, y: 0, z: 0 }\n                            });\n                        }\n                        var xBottomEdges = [];\n                        if (isValidEdge(ret.bottom, ret.front)) {\n                            xBottomEdges.push({\n                                x: (xm + xp) / 2,\n                                y: yp,\n                                z: zm,\n                                xDir: { x: 1, y: 0, z: 0 }\n                            });\n                        }\n                        if (isValidEdge(ret.bottom, ret.back)) {\n                            xBottomEdges.push({\n                                x: (xm + xp) / 2,\n                                y: yp,\n                                z: zp,\n                                xDir: { x: -1, y: 0, z: 0 }\n                            });\n                        }\n                        var xTopEdges = [];\n                        if (isValidEdge(ret.top, ret.front)) {\n                            xTopEdges.push({\n                                x: (xm + xp) / 2,\n                                y: ym,\n                                z: zm,\n                                xDir: { x: 1, y: 0, z: 0 }\n                            });\n                        }\n                        if (isValidEdge(ret.top, ret.back)) {\n                            xTopEdges.push({\n                                x: (xm + xp) / 2,\n                                y: ym,\n                                z: zp,\n                                xDir: { x: -1, y: 0, z: 0 }\n                            });\n                        }\n                        var zBottomEdges = [];\n                        if (isValidEdge(ret.bottom, ret.left)) {\n                            zBottomEdges.push({\n                                z: (zm + zp) / 2,\n                                y: yp,\n                                x: xm,\n                                xDir: { x: 0, y: 0, z: -1 }\n                            });\n                        }\n                        if (isValidEdge(ret.bottom, ret.right)) {\n                            zBottomEdges.push({\n                                z: (zm + zp) / 2,\n                                y: yp,\n                                x: xp,\n                                xDir: { x: 0, y: 0, z: 1 }\n                            });\n                        }\n                        var zTopEdges = [];\n                        if (isValidEdge(ret.top, ret.left)) {\n                            zTopEdges.push({\n                                z: (zm + zp) / 2,\n                                y: ym,\n                                x: xm,\n                                xDir: { x: 0, y: 0, z: -1 }\n                            });\n                        }\n                        if (isValidEdge(ret.top, ret.right)) {\n                            zTopEdges.push({\n                                z: (zm + zp) / 2,\n                                y: ym,\n                                x: xp,\n                                xDir: { x: 0, y: 0, z: 1 }\n                            });\n                        }\n                        var pickEdge = function (edges, axis, mult) {\n                            if (edges.length === 0) {\n                                return null;\n                            }\n                            if (edges.length === 1) {\n                                return edges[0];\n                            }\n                            var projections = perspective(edges, chart, false);\n                            var best = 0;\n                            for (var i = 1; i < projections.length; i++) {\n                                if (mult * projections[i][axis] >\n                                    mult * projections[best][axis]) {\n                                    best = i;\n                                }\n                                else if ((mult * projections[i][axis] ===\n                                    mult * projections[best][axis]) &&\n                                    (projections[i].z < projections[best].z)) {\n                                    best = i;\n                                }\n                            }\n                            return edges[best];\n                        };\n                        ret.axes = {\n                            y: {\n                                'left': pickEdge(yEdges, 'x', -1),\n                                'right': pickEdge(yEdges, 'x', +1)\n                            },\n                            x: {\n                                'top': pickEdge(xTopEdges, 'y', -1),\n                                'bottom': pickEdge(xBottomEdges, 'y', +1)\n                            },\n                            z: {\n                                'top': pickEdge(zTopEdges, 'y', -1),\n                                'bottom': pickEdge(zBottomEdges, 'y', +1)\n                            }\n                        };\n                    }\n                    else {\n                        ret.axes = {\n                            y: {\n                                'left': {\n                                    x: xm, z: zm, xDir: { x: 1, y: 0, z: 0 }\n                                },\n                                'right': {\n                                    x: xp, z: zm, xDir: { x: 0, y: 0, z: 1 }\n                                }\n                            },\n                            x: {\n                                'top': {\n                                    y: ym, z: zm, xDir: { x: 1, y: 0, z: 0 }\n                                },\n                                'bottom': {\n                                    y: yp,\n                                    z: zm,\n                                    xDir: { x: 1, y: 0, z: 0 }\n                                }\n                            },\n                            z: {\n                                'top': {\n                                    x: defaultShowLeft ? xp : xm,\n                                    y: ym,\n                                    xDir: defaultShowLeft ?\n                                        { x: 0, y: 0, z: 1 } :\n                                        { x: 0, y: 0, z: -1 }\n                                },\n                                'bottom': {\n                                    x: defaultShowLeft ? xp : xm,\n                                    y: yp,\n                                    xDir: defaultShowLeft ?\n                                        { x: 0, y: 0, z: 1 } :\n                                        { x: 0, y: 0, z: -1 }\n                                }\n                            }\n                        };\n                    }\n                    return ret;\n                };\n                /**\n                 * Calculate scale of the 3D view. That is required to fit chart's 3D\n                 * projection into the actual plotting area. Reported as #4933.\n                 *\n                 * **Note:**\n                 * This function should ideally take the plot values instead of a chart\n                 * object, but since the chart object is needed for perspective it is\n                 * not practical. Possible to make both getScale and perspective more\n                 * logical and also immutable.\n                 *\n                 * @private\n                 * @function getScale\n                 *\n                 * @param {number} depth\n                 * The depth of the chart\n                 *\n                 * @return {number}\n                 * The scale to fit the 3D chart into the plotting area.\n                 *\n                 * @requires highcharts-3d\n                 */\n                Additions.prototype.getScale = function (depth) {\n                    var chart = this.chart, plotLeft = chart.plotLeft, plotRight = chart.plotWidth + plotLeft, plotTop = chart.plotTop, plotBottom = chart.plotHeight + plotTop, originX = plotLeft + chart.plotWidth / 2, originY = plotTop + chart.plotHeight / 2, bbox3d = {\n                        minX: Number.MAX_VALUE,\n                        maxX: -Number.MAX_VALUE,\n                        minY: Number.MAX_VALUE,\n                        maxY: -Number.MAX_VALUE\n                    };\n                    var corners, scale = 1;\n                    // Top left corners:\n                    corners = [{\n                            x: plotLeft,\n                            y: plotTop,\n                            z: 0\n                        }, {\n                            x: plotLeft,\n                            y: plotTop,\n                            z: depth\n                        }];\n                    // Top right corners:\n                    [0, 1].forEach(function (i) {\n                        corners.push({\n                            x: plotRight,\n                            y: corners[i].y,\n                            z: corners[i].z\n                        });\n                    });\n                    // All bottom corners:\n                    [0, 1, 2, 3].forEach(function (i) {\n                        corners.push({\n                            x: corners[i].x,\n                            y: plotBottom,\n                            z: corners[i].z\n                        });\n                    });\n                    // Calculate 3D corners:\n                    corners = perspective(corners, chart, false);\n                    // Get bounding box of 3D element:\n                    corners.forEach(function (corner) {\n                        bbox3d.minX = Math.min(bbox3d.minX, corner.x);\n                        bbox3d.maxX = Math.max(bbox3d.maxX, corner.x);\n                        bbox3d.minY = Math.min(bbox3d.minY, corner.y);\n                        bbox3d.maxY = Math.max(bbox3d.maxY, corner.y);\n                    });\n                    // Left edge:\n                    if (plotLeft > bbox3d.minX) {\n                        scale = Math.min(scale, 1 - Math.abs((plotLeft + originX) / (bbox3d.minX + originX)) % 1);\n                    }\n                    // Right edge:\n                    if (plotRight < bbox3d.maxX) {\n                        scale = Math.min(scale, (plotRight - originX) / (bbox3d.maxX - originX));\n                    }\n                    // Top edge:\n                    if (plotTop > bbox3d.minY) {\n                        if (bbox3d.minY < 0) {\n                            scale = Math.min(scale, (plotTop + originY) / (-bbox3d.minY + plotTop + originY));\n                        }\n                        else {\n                            scale = Math.min(scale, 1 - (plotTop + originY) / (bbox3d.minY + originY) % 1);\n                        }\n                    }\n                    // Bottom edge:\n                    if (plotBottom < bbox3d.maxY) {\n                        scale = Math.min(scale, Math.abs((plotBottom - originY) / (bbox3d.maxY - originY)));\n                    }\n                    return scale;\n                };\n                return Additions;\n            }());\n            Chart3D.Additions = Additions;\n        })(Chart3D || (Chart3D = {}));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /* *\n         *\n         *  API Declarations\n         *\n         * */\n        /**\n         * Note: As of v5.0.12, `frame.left` or `frame.right` should be used instead.\n         *\n         * The side for the frame around a 3D chart.\n         *\n         * @deprecated\n         * @since     4.0\n         * @product   highcharts\n         * @requires  highcharts-3d\n         * @apioption chart.options3d.frame.side\n         */\n        /**\n         * The color of the panel.\n         *\n         * @deprecated\n         * @type      {Highcharts.ColorString|Highcharts.GradientColorObject|Highcharts.PatternObject}\n         * @default   transparent\n         * @since     4.0\n         * @product   highcharts\n         * @apioption chart.options3d.frame.side.color\n         */\n        /**\n         * The thickness of the panel.\n         *\n         * @deprecated\n         * @type      {number}\n         * @default   1\n         * @since     4.0\n         * @product   highcharts\n         * @apioption chart.options3d.frame.side.size\n         */\n        ''; // keeps doclets above in JS file\n\n        return Chart3D;\n    });\n    _registerModule(_modules, 'Series/Area3D/Area3DSeries.js', [_modules['Core/Math3D.js'], _modules['Core/Series/SeriesRegistry.js'], _modules['Core/Utilities.js']], function (Math3D, SeriesRegistry, U) {\n        /* *\n         *\n         *  (c) 2010-2021 Grzegorz Blachliski\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var perspective = Math3D.perspective;\n        var lineProto = SeriesRegistry.seriesTypes.line.prototype;\n        var wrap = U.wrap;\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        var composedMembers = [];\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        function compose(AreaSeriesClass) {\n            if (U.pushUnique(composedMembers, AreaSeriesClass)) {\n                wrap(AreaSeriesClass.prototype, 'getGraphPath', wrapAreaSeriesGetGraphPath);\n            }\n        }\n        function wrapAreaSeriesGetGraphPath(proceed) {\n            var series = this, svgPath = proceed.apply(series, [].slice.call(arguments, 1));\n            // Do not do this if the chart is not 3D\n            if (!series.chart.is3d()) {\n                return svgPath;\n            }\n            var getGraphPath = lineProto.getGraphPath, options = series.options, translatedThreshold = Math.round(// #10909\n            series.yAxis.getThreshold(options.threshold));\n            var bottomPoints = [];\n            if (series.rawPointsX) {\n                for (var i = 0; i < series.points.length; i++) {\n                    bottomPoints.push({\n                        x: series.rawPointsX[i],\n                        y: options.stacking ?\n                            series.points[i].yBottom : translatedThreshold,\n                        z: series.zPadding\n                    });\n                }\n            }\n            var options3d = series.chart.options.chart.options3d;\n            bottomPoints = perspective(bottomPoints, series.chart, true).map(function (point) { return ({ plotX: point.x, plotY: point.y, plotZ: point.z }); });\n            if (series.group && options3d && options3d.depth && options3d.beta) {\n                // Markers should take the global zIndex of series group.\n                if (series.markerGroup) {\n                    series.markerGroup.add(series.group);\n                    series.markerGroup.attr({\n                        translateX: 0,\n                        translateY: 0\n                    });\n                }\n                series.group.attr({\n                    zIndex: Math.max(1, (options3d.beta > 270 || options3d.beta < 90) ?\n                        options3d.depth - Math.round(series.zPadding || 0) :\n                        Math.round(series.zPadding || 0))\n                });\n            }\n            bottomPoints.reversed = true;\n            var bottomPath = getGraphPath.call(series, bottomPoints, true, true);\n            if (bottomPath[0] && bottomPath[0][0] === 'M') {\n                bottomPath[0] = ['L', bottomPath[0][1], bottomPath[0][2]];\n            }\n            if (series.areaPath) {\n                // Remove previously used bottomPath and add the new one.\n                var areaPath = series.areaPath.splice(0, series.areaPath.length / 2).concat(bottomPath);\n                // Use old xMap in the new areaPath\n                areaPath.xMap = series.areaPath.xMap;\n                series.areaPath = areaPath;\n            }\n            return svgPath;\n        }\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var Area3DSeries = {\n            compose: compose\n        };\n\n        return Area3DSeries;\n    });\n    _registerModule(_modules, 'Core/Axis/Axis3DDefaults.js', [], function () {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  Extenstion for 3d axes\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        /**\n         * @optionparent xAxis\n         */\n        var Axis3DDefaults = {\n            labels: {\n                /**\n                 * Defines how the labels are be repositioned according to the 3D\n                 * chart orientation.\n                 *\n                 * - `'offset'`: Maintain a fixed horizontal/vertical distance from\n                 *   the tick marks, despite the chart orientation. This is the\n                 *   backwards compatible behavior, and causes skewing of X and Z\n                 *   axes.\n                 *\n                 * - `'chart'`: Preserve 3D position relative to the chart. This\n                 *   looks nice, but hard to read if the text isn't forward-facing.\n                 *\n                 * - `'flap'`: Rotated text along the axis to compensate for the\n                 *   chart orientation. This tries to maintain text as legible as\n                 *   possible on all orientations.\n                 *\n                 * - `'ortho'`: Rotated text along the axis direction so that the\n                 *   labels are orthogonal to the axis. This is very similar to\n                 *   `'flap'`, but prevents skewing the labels (X and Y scaling are\n                 *   still present).\n                 *\n                 * @sample highcharts/3d/skewed-labels/\n                 *         Skewed labels\n                 *\n                 * @since      5.0.15\n                 * @validvalue ['offset', 'chart', 'flap', 'ortho']\n                 * @product    highcharts\n                 * @requires   highcharts-3d\n                 */\n                position3d: 'offset',\n                /**\n                 * If enabled, the axis labels will skewed to follow the\n                 * perspective.\n                 *\n                 * This will fix overlapping labels and titles, but texts become\n                 * less legible due to the distortion.\n                 *\n                 * The final appearance depends heavily on `labels.position3d`.\n                 *\n                 * @sample highcharts/3d/skewed-labels/\n                 *         Skewed labels\n                 *\n                 * @since    5.0.15\n                 * @product  highcharts\n                 * @requires highcharts-3d\n                 */\n                skew3d: false\n            },\n            title: {\n                /**\n                 * Defines how the title is repositioned according to the 3D chart\n                 * orientation.\n                 *\n                 * - `'offset'`: Maintain a fixed horizontal/vertical distance from\n                 *   the tick marks, despite the chart orientation. This is the\n                 *   backwards compatible behavior, and causes skewing of X and Z\n                 *   axes.\n                 *\n                 * - `'chart'`: Preserve 3D position relative to the chart. This\n                 *   looks nice, but hard to read if the text isn't forward-facing.\n                 *\n                 * - `'flap'`: Rotated text along the axis to compensate for the\n                 *   chart orientation. This tries to maintain text as legible as\n                 *   possible on all orientations.\n                 *\n                 * - `'ortho'`: Rotated text along the axis direction so that the\n                 *   labels are orthogonal to the axis. This is very similar to\n                 *   `'flap'`, but prevents skewing the labels (X and Y scaling are\n                 *   still present).\n                 *\n                 * - `undefined`: Will use the config from `labels.position3d`\n                 *\n                 * @sample highcharts/3d/skewed-labels/\n                 *         Skewed labels\n                 *\n                 * @type     {\"offset\"|\"chart\"|\"flap\"|\"ortho\"|null}\n                 * @since    5.0.15\n                 * @product  highcharts\n                 * @requires highcharts-3d\n                 */\n                position3d: null,\n                /**\n                 * If enabled, the axis title will skewed to follow the perspective.\n                 *\n                 * This will fix overlapping labels and titles, but texts become\n                 * less legible due to the distortion.\n                 *\n                 * The final appearance depends heavily on `title.position3d`.\n                 *\n                 * A `null` value will use the config from `labels.skew3d`.\n                 *\n                 * @sample highcharts/3d/skewed-labels/\n                 *         Skewed labels\n                 *\n                 * @type     {boolean|null}\n                 * @since    5.0.15\n                 * @product  highcharts\n                 * @requires highcharts-3d\n                 */\n                skew3d: null\n            }\n        };\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return Axis3DDefaults;\n    });\n    _registerModule(_modules, 'Core/Axis/Tick3DComposition.js', [_modules['Core/Utilities.js']], function (U) {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  Extenstion for 3d axes\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var addEvent = U.addEvent, extend = U.extend, wrap = U.wrap;\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        var composedMembers = [];\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * @private\n         */\n        function compose(TickClass) {\n            if (U.pushUnique(composedMembers, TickClass)) {\n                addEvent(TickClass, 'afterGetLabelPosition', onTickAfterGetLabelPosition);\n                wrap(TickClass.prototype, 'getMarkPath', wrapTickGetMarkPath);\n            }\n        }\n        /**\n         * @private\n         */\n        function onTickAfterGetLabelPosition(e) {\n            var axis3D = this.axis.axis3D;\n            if (axis3D) {\n                extend(e.pos, axis3D.fix3dPosition(e.pos));\n            }\n        }\n        /**\n         * @private\n         */\n        function wrapTickGetMarkPath(proceed) {\n            var axis3D = this.axis.axis3D, path = proceed.apply(this, [].slice.call(arguments, 1));\n            if (axis3D) {\n                var start = path[0];\n                var end = path[1];\n                if (start[0] === 'M' && end[0] === 'L') {\n                    var pArr = [\n                        axis3D.fix3dPosition({ x: start[1], y: start[2], z: 0 }),\n                        axis3D.fix3dPosition({ x: end[1], y: end[2], z: 0 })\n                    ];\n                    return this.axis.chart.renderer.toLineSegments(pArr);\n                }\n            }\n            return path;\n        }\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var Tick3DAdditions = {\n            compose: compose\n        };\n\n        return Tick3DAdditions;\n    });\n    _registerModule(_modules, 'Core/Axis/Axis3DComposition.js', [_modules['Core/Axis/Axis3DDefaults.js'], _modules['Core/Globals.js'], _modules['Core/Math3D.js'], _modules['Core/Axis/Tick3DComposition.js'], _modules['Core/Utilities.js']], function (Axis3DDefaults, H, Math3D, Tick3D, U) {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  Extenstion for 3d axes\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var deg2rad = H.deg2rad;\n        var perspective = Math3D.perspective, perspective3D = Math3D.perspective3D, shapeArea = Math3D.shapeArea;\n        var addEvent = U.addEvent, merge = U.merge, pick = U.pick, wrap = U.wrap;\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        var composedMembers = [];\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * @private\n         */\n        function onAxisAfterSetOptions() {\n            var axis = this, chart = axis.chart, options = axis.options;\n            if (chart.is3d && chart.is3d() && axis.coll !== 'colorAxis') {\n                options.tickWidth = pick(options.tickWidth, 0);\n                options.gridLineWidth = pick(options.gridLineWidth, 1);\n            }\n        }\n        /**\n         * @private\n         */\n        function onAxisDrawCrosshair(e) {\n            var axis = this;\n            if (axis.chart.is3d() &&\n                axis.coll !== 'colorAxis') {\n                if (e.point) {\n                    e.point.crosshairPos = axis.isXAxis ?\n                        e.point.axisXpos :\n                        axis.len - e.point.axisYpos;\n                }\n            }\n        }\n        /**\n         * @private\n         */\n        function onAxisInit() {\n            var axis = this;\n            if (!axis.axis3D) {\n                axis.axis3D = new Axis3DAdditions(axis);\n            }\n        }\n        /**\n         * Do not draw axislines in 3D.\n         * @private\n         */\n        function wrapAxisGetLinePath(proceed) {\n            var axis = this;\n            // Do not do this if the chart is not 3D\n            if (!axis.chart.is3d() || axis.coll === 'colorAxis') {\n                return proceed.apply(axis, [].slice.call(arguments, 1));\n            }\n            return [];\n        }\n        /**\n         * @private\n         */\n        function wrapAxisGetPlotBandPath(proceed) {\n            // Do not do this if the chart is not 3D\n            if (!this.chart.is3d() || this.coll === 'colorAxis') {\n                return proceed.apply(this, [].slice.call(arguments, 1));\n            }\n            var args = arguments, from = args[1], to = args[2], path = [], fromPath = this.getPlotLinePath({ value: from }), toPath = this.getPlotLinePath({ value: to });\n            if (fromPath && toPath) {\n                for (var i = 0; i < fromPath.length; i += 2) {\n                    var fromStartSeg = fromPath[i], fromEndSeg = fromPath[i + 1], toStartSeg = toPath[i], toEndSeg = toPath[i + 1];\n                    if (fromStartSeg[0] === 'M' &&\n                        fromEndSeg[0] === 'L' &&\n                        toStartSeg[0] === 'M' &&\n                        toEndSeg[0] === 'L') {\n                        path.push(fromStartSeg, fromEndSeg, toEndSeg, \n                        // lineTo instead of moveTo\n                        ['L', toStartSeg[1], toStartSeg[2]], ['Z']);\n                    }\n                }\n            }\n            return path;\n        }\n        /**\n         * @private\n         */\n        function wrapAxisGetPlotLinePath(proceed) {\n            var axis = this, axis3D = axis.axis3D, chart = axis.chart, path = proceed.apply(axis, [].slice.call(arguments, 1));\n            // Do not do this if the chart is not 3D\n            if (axis.coll === 'colorAxis' ||\n                !chart.chart3d ||\n                !chart.is3d()) {\n                return path;\n            }\n            if (path === null) {\n                return path;\n            }\n            var options3d = chart.options.chart.options3d, d = axis.isZAxis ? chart.plotWidth : options3d.depth, frame = chart.chart3d.frame3d, startSegment = path[0], endSegment = path[1];\n            var pArr, pathSegments = [];\n            if (startSegment[0] === 'M' && endSegment[0] === 'L') {\n                pArr = [\n                    axis3D.swapZ({ x: startSegment[1], y: startSegment[2], z: 0 }),\n                    axis3D.swapZ({ x: startSegment[1], y: startSegment[2], z: d }),\n                    axis3D.swapZ({ x: endSegment[1], y: endSegment[2], z: 0 }),\n                    axis3D.swapZ({ x: endSegment[1], y: endSegment[2], z: d })\n                ];\n                if (!this.horiz) { // Y-Axis\n                    if (frame.front.visible) {\n                        pathSegments.push(pArr[0], pArr[2]);\n                    }\n                    if (frame.back.visible) {\n                        pathSegments.push(pArr[1], pArr[3]);\n                    }\n                    if (frame.left.visible) {\n                        pathSegments.push(pArr[0], pArr[1]);\n                    }\n                    if (frame.right.visible) {\n                        pathSegments.push(pArr[2], pArr[3]);\n                    }\n                }\n                else if (this.isZAxis) { // Z-Axis\n                    if (frame.left.visible) {\n                        pathSegments.push(pArr[0], pArr[2]);\n                    }\n                    if (frame.right.visible) {\n                        pathSegments.push(pArr[1], pArr[3]);\n                    }\n                    if (frame.top.visible) {\n                        pathSegments.push(pArr[0], pArr[1]);\n                    }\n                    if (frame.bottom.visible) {\n                        pathSegments.push(pArr[2], pArr[3]);\n                    }\n                }\n                else { // X-Axis\n                    if (frame.front.visible) {\n                        pathSegments.push(pArr[0], pArr[2]);\n                    }\n                    if (frame.back.visible) {\n                        pathSegments.push(pArr[1], pArr[3]);\n                    }\n                    if (frame.top.visible) {\n                        pathSegments.push(pArr[0], pArr[1]);\n                    }\n                    if (frame.bottom.visible) {\n                        pathSegments.push(pArr[2], pArr[3]);\n                    }\n                }\n                pathSegments = perspective(pathSegments, this.chart, false);\n            }\n            return chart.renderer.toLineSegments(pathSegments);\n        }\n        /**\n         * Wrap getSlotWidth function to calculate individual width value for each\n         * slot (#8042).\n         * @private\n         */\n        function wrapAxisGetSlotWidth(proceed, tick) {\n            var axis = this, chart = axis.chart, ticks = axis.ticks, gridGroup = axis.gridGroup;\n            if (axis.categories &&\n                chart.frameShapes &&\n                chart.is3d() &&\n                gridGroup &&\n                tick &&\n                tick.label) {\n                var firstGridLine = (gridGroup.element.childNodes[0].getBBox()), frame3DLeft = chart.frameShapes.left.getBBox(), options3d = chart.options.chart.options3d, origin_1 = {\n                    x: chart.plotWidth / 2,\n                    y: chart.plotHeight / 2,\n                    z: options3d.depth / 2,\n                    vd: (pick(options3d.depth, 1) *\n                        pick(options3d.viewDistance, 0))\n                }, tickId = tick.pos, prevTick = ticks[tickId - 1], nextTick = ticks[tickId + 1];\n                var labelPos = void 0, prevLabelPos = void 0, nextLabelPos = void 0;\n                // Check whether the tick is not the first one and previous tick\n                // exists, then calculate position of previous label.\n                if (tickId !== 0 &&\n                    prevTick &&\n                    prevTick.label &&\n                    prevTick.label.xy) {\n                    prevLabelPos = perspective3D({\n                        x: prevTick.label.xy.x,\n                        y: prevTick.label.xy.y,\n                        z: null\n                    }, origin_1, origin_1.vd);\n                }\n                // If next label position is defined, then recalculate its position\n                // basing on the perspective.\n                if (nextTick && nextTick.label && nextTick.label.xy) {\n                    nextLabelPos = perspective3D({\n                        x: nextTick.label.xy.x,\n                        y: nextTick.label.xy.y,\n                        z: null\n                    }, origin_1, origin_1.vd);\n                }\n                labelPos = {\n                    x: tick.label.xy.x,\n                    y: tick.label.xy.y,\n                    z: null\n                };\n                labelPos = perspective3D(labelPos, origin_1, origin_1.vd);\n                // If tick is first one, check whether next label position is\n                // already calculated, then return difference between the first and\n                // the second label. If there is no next label position calculated,\n                // return the difference between the first grid line and left 3d\n                // frame.\n                return Math.abs(prevLabelPos ?\n                    labelPos.x - prevLabelPos.x : nextLabelPos ?\n                    nextLabelPos.x - labelPos.x :\n                    firstGridLine.x - frame3DLeft.x);\n            }\n            return proceed.apply(axis, [].slice.call(arguments, 1));\n        }\n        /**\n         * @private\n         */\n        function wrapAxisGetTitlePosition(proceed) {\n            var pos = proceed.apply(this, [].slice.call(arguments, 1));\n            return this.axis3D ?\n                this.axis3D.fix3dPosition(pos, true) :\n                pos;\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * Adds 3D support to axes.\n         * @private\n         * @class\n         */\n        var Axis3DAdditions = /** @class */ (function () {\n            /* *\n             *\n             *  Constructors\n             *\n             * */\n            /**\n             * @private\n             */\n            function Axis3DAdditions(axis) {\n                this.axis = axis;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Extends axis class with 3D support.\n             * @private\n             */\n            Axis3DAdditions.compose = function (AxisClass, TickClass) {\n                Tick3D.compose(TickClass);\n                if (U.pushUnique(composedMembers, AxisClass)) {\n                    merge(true, AxisClass.defaultOptions, Axis3DDefaults);\n                    AxisClass.keepProps.push('axis3D');\n                    addEvent(AxisClass, 'init', onAxisInit);\n                    addEvent(AxisClass, 'afterSetOptions', onAxisAfterSetOptions);\n                    addEvent(AxisClass, 'drawCrosshair', onAxisDrawCrosshair);\n                    var axisProto = AxisClass.prototype;\n                    wrap(axisProto, 'getLinePath', wrapAxisGetLinePath);\n                    wrap(axisProto, 'getPlotBandPath', wrapAxisGetPlotBandPath);\n                    wrap(axisProto, 'getPlotLinePath', wrapAxisGetPlotLinePath);\n                    wrap(axisProto, 'getSlotWidth', wrapAxisGetSlotWidth);\n                    wrap(axisProto, 'getTitlePosition', wrapAxisGetTitlePosition);\n                }\n            };\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * @private\n             * @param {Highcharts.Axis} axis\n             * Related axis.\n             * @param {Highcharts.Position3DObject} pos\n             * Position to fix.\n             * @param {boolean} [isTitle]\n             * Whether this is a title position.\n             * @return {Highcharts.Position3DObject}\n             * Fixed position.\n             */\n            Axis3DAdditions.prototype.fix3dPosition = function (pos, isTitle) {\n                var axis3D = this;\n                var axis = axis3D.axis;\n                var chart = axis.chart;\n                // Do not do this if the chart is not 3D\n                if (axis.coll === 'colorAxis' ||\n                    !chart.chart3d ||\n                    !chart.is3d()) {\n                    return pos;\n                }\n                var alpha = deg2rad * chart.options.chart.options3d.alpha, beta = deg2rad * chart.options.chart.options3d.beta, positionMode = pick(isTitle && axis.options.title.position3d, axis.options.labels.position3d), skew = pick(isTitle && axis.options.title.skew3d, axis.options.labels.skew3d), frame = chart.chart3d.frame3d, plotLeft = chart.plotLeft, plotRight = chart.plotWidth + plotLeft, plotTop = chart.plotTop, plotBottom = chart.plotHeight + plotTop;\n                var offsetX = 0, offsetY = 0, vecX, vecY = { x: 0, y: 1, z: 0 }, \n                // Indicates that we are labelling an X or Z axis on the \"back\" of\n                // the chart\n                reverseFlap = false;\n                pos = axis.axis3D.swapZ({ x: pos.x, y: pos.y, z: 0 });\n                if (axis.isZAxis) { // Z Axis\n                    if (axis.opposite) {\n                        if (frame.axes.z.top === null) {\n                            return {};\n                        }\n                        offsetY = pos.y - plotTop;\n                        pos.x = frame.axes.z.top.x;\n                        pos.y = frame.axes.z.top.y;\n                        vecX = frame.axes.z.top.xDir;\n                        reverseFlap = !frame.top.frontFacing;\n                    }\n                    else {\n                        if (frame.axes.z.bottom === null) {\n                            return {};\n                        }\n                        offsetY = pos.y - plotBottom;\n                        pos.x = frame.axes.z.bottom.x;\n                        pos.y = frame.axes.z.bottom.y;\n                        vecX = frame.axes.z.bottom.xDir;\n                        reverseFlap = !frame.bottom.frontFacing;\n                    }\n                }\n                else if (axis.horiz) { // X Axis\n                    if (axis.opposite) {\n                        if (frame.axes.x.top === null) {\n                            return {};\n                        }\n                        offsetY = pos.y - plotTop;\n                        pos.y = frame.axes.x.top.y;\n                        pos.z = frame.axes.x.top.z;\n                        vecX = frame.axes.x.top.xDir;\n                        reverseFlap = !frame.top.frontFacing;\n                    }\n                    else {\n                        if (frame.axes.x.bottom === null) {\n                            return {};\n                        }\n                        offsetY = pos.y - plotBottom;\n                        pos.y = frame.axes.x.bottom.y;\n                        pos.z = frame.axes.x.bottom.z;\n                        vecX = frame.axes.x.bottom.xDir;\n                        reverseFlap = !frame.bottom.frontFacing;\n                    }\n                }\n                else { // Y Axis\n                    if (axis.opposite) {\n                        if (frame.axes.y.right === null) {\n                            return {};\n                        }\n                        offsetX = pos.x - plotRight;\n                        pos.x = frame.axes.y.right.x;\n                        pos.z = frame.axes.y.right.z;\n                        vecX = frame.axes.y.right.xDir;\n                        // Rotate 90 on opposite edge\n                        vecX = { x: vecX.z, y: vecX.y, z: -vecX.x };\n                    }\n                    else {\n                        if (frame.axes.y.left === null) {\n                            return {};\n                        }\n                        offsetX = pos.x - plotLeft;\n                        pos.x = frame.axes.y.left.x;\n                        pos.z = frame.axes.y.left.z;\n                        vecX = frame.axes.y.left.xDir;\n                    }\n                }\n                if (positionMode === 'chart') {\n                    // Labels preserve their direction relative to the chart\n                    // nothing to do\n                }\n                else if (positionMode === 'flap') {\n                    // Labels are rotated around the axis direction to face the screen\n                    if (!axis.horiz) { // Y Axis\n                        vecX = { x: Math.cos(beta), y: 0, z: Math.sin(beta) };\n                    }\n                    else { // X and Z Axis\n                        var sin = Math.sin(alpha);\n                        var cos = Math.cos(alpha);\n                        if (axis.opposite) {\n                            sin = -sin;\n                        }\n                        if (reverseFlap) {\n                            sin = -sin;\n                        }\n                        vecY = { x: vecX.z * sin, y: cos, z: -vecX.x * sin };\n                    }\n                }\n                else if (positionMode === 'ortho') {\n                    // Labels will be rotated to be ortogonal to the axis\n                    if (!axis.horiz) { // Y Axis\n                        vecX = { x: Math.cos(beta), y: 0, z: Math.sin(beta) };\n                    }\n                    else { // X and Z Axis\n                        var sina = Math.sin(alpha);\n                        var cosa = Math.cos(alpha);\n                        var sinb = Math.sin(beta);\n                        var cosb = Math.cos(beta);\n                        var vecZ = { x: sinb * cosa, y: -sina, z: -cosa * cosb };\n                        vecY = {\n                            x: vecX.y * vecZ.z - vecX.z * vecZ.y,\n                            y: vecX.z * vecZ.x - vecX.x * vecZ.z,\n                            z: vecX.x * vecZ.y - vecX.y * vecZ.x\n                        };\n                        var scale = 1 / Math.sqrt(vecY.x * vecY.x + vecY.y * vecY.y + vecY.z * vecY.z);\n                        if (reverseFlap) {\n                            scale = -scale;\n                        }\n                        vecY = {\n                            x: scale * vecY.x, y: scale * vecY.y, z: scale * vecY.z\n                        };\n                    }\n                }\n                else { // positionMode  == 'offset'\n                    // Labels will be skewd to maintain vertical / horizontal offsets\n                    // from axis\n                    if (!axis.horiz) { // Y Axis\n                        vecX = { x: Math.cos(beta), y: 0, z: Math.sin(beta) };\n                    }\n                    else { // X and Z Axis\n                        vecY = {\n                            x: Math.sin(beta) * Math.sin(alpha),\n                            y: Math.cos(alpha),\n                            z: -Math.cos(beta) * Math.sin(alpha)\n                        };\n                    }\n                }\n                pos.x += offsetX * vecX.x + offsetY * vecY.x;\n                pos.y += offsetX * vecX.y + offsetY * vecY.y;\n                pos.z += offsetX * vecX.z + offsetY * vecY.z;\n                var projected = perspective([pos], axis.chart)[0];\n                if (skew) {\n                    // Check if the label text would be mirrored\n                    var isMirrored = shapeArea(perspective([\n                        pos,\n                        { x: pos.x + vecX.x, y: pos.y + vecX.y, z: pos.z + vecX.z },\n                        { x: pos.x + vecY.x, y: pos.y + vecY.y, z: pos.z + vecY.z }\n                    ], axis.chart)) < 0;\n                    if (isMirrored) {\n                        vecX = { x: -vecX.x, y: -vecX.y, z: -vecX.z };\n                    }\n                    var pointsProjected = perspective([\n                        { x: pos.x, y: pos.y, z: pos.z },\n                        { x: pos.x + vecX.x, y: pos.y + vecX.y, z: pos.z + vecX.z },\n                        { x: pos.x + vecY.x, y: pos.y + vecY.y, z: pos.z + vecY.z }\n                    ], axis.chart);\n                    projected.matrix = [\n                        pointsProjected[1].x - pointsProjected[0].x,\n                        pointsProjected[1].y - pointsProjected[0].y,\n                        pointsProjected[2].x - pointsProjected[0].x,\n                        pointsProjected[2].y - pointsProjected[0].y,\n                        projected.x,\n                        projected.y\n                    ];\n                    projected.matrix[4] -= projected.x * projected.matrix[0] +\n                        projected.y * projected.matrix[2];\n                    projected.matrix[5] -= projected.x * projected.matrix[1] +\n                        projected.y * projected.matrix[3];\n                }\n                return projected;\n            };\n            /**\n             * @private\n             */\n            Axis3DAdditions.prototype.swapZ = function (p, insidePlotArea) {\n                var axis = this.axis;\n                if (axis.isZAxis) {\n                    var plotLeft = insidePlotArea ? 0 : axis.chart.plotLeft;\n                    return {\n                        x: plotLeft + p.z,\n                        y: p.y,\n                        z: p.x - plotLeft\n                    };\n                }\n                return p;\n            };\n            return Axis3DAdditions;\n        }());\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return Axis3DAdditions;\n    });\n    _registerModule(_modules, 'Core/Series/Series3D.js', [_modules['Core/Math3D.js'], _modules['Core/Series/Series.js'], _modules['Core/Utilities.js']], function (Math3D, Series, U) {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  Extension to the Series object in 3D charts.\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var perspective = Math3D.perspective;\n        var addEvent = U.addEvent, extend = U.extend, merge = U.merge, pick = U.pick, pushUnique = U.pushUnique, isNumber = U.isNumber;\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        var composedMembers = [];\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var Series3D = /** @class */ (function (_super) {\n            __extends(Series3D, _super);\n            function Series3D() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Static Functions\n             *\n             * */\n            Series3D.compose = function (SeriesClass) {\n                if (pushUnique(composedMembers, SeriesClass)) {\n                    addEvent(SeriesClass, 'afterTranslate', function () {\n                        if (this.chart.is3d()) {\n                            this.translate3dPoints();\n                        }\n                    });\n                    extend(SeriesClass.prototype, {\n                        translate3dPoints: Series3D.prototype.translate3dPoints\n                    });\n                }\n            };\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * Translate the plotX, plotY properties and add plotZ.\n             * @private\n             */\n            Series3D.prototype.translate3dPoints = function () {\n                var series = this, seriesOptions = series.options, chart = series.chart, zAxis = pick(series.zAxis, chart.options.zAxis[0]), rawPoints = [], rawPointsX = [], stack = seriesOptions.stacking ?\n                    (isNumber(seriesOptions.stack) ? seriesOptions.stack : 0) :\n                    series.index || 0;\n                var rawPoint, projectedPoint, zValue, i;\n                series.zPadding = stack *\n                    (seriesOptions.depth || 0 + (seriesOptions.groupZPadding || 1));\n                for (i = 0; i < series.data.length; i++) {\n                    rawPoint = series.data[i];\n                    if (zAxis && zAxis.translate) {\n                        zValue = zAxis.logarithmic && zAxis.val2lin ?\n                            zAxis.val2lin(rawPoint.z) :\n                            rawPoint.z; // #4562\n                        rawPoint.plotZ = zAxis.translate(zValue);\n                        rawPoint.isInside = rawPoint.isInside ?\n                            (zValue >= zAxis.min &&\n                                zValue <= zAxis.max) :\n                            false;\n                    }\n                    else {\n                        rawPoint.plotZ = series.zPadding;\n                    }\n                    rawPoint.axisXpos = rawPoint.plotX;\n                    rawPoint.axisYpos = rawPoint.plotY;\n                    rawPoint.axisZpos = rawPoint.plotZ;\n                    rawPoints.push({\n                        x: rawPoint.plotX,\n                        y: rawPoint.plotY,\n                        z: rawPoint.plotZ\n                    });\n                    rawPointsX.push(rawPoint.plotX || 0);\n                }\n                series.rawPointsX = rawPointsX;\n                var projectedPoints = perspective(rawPoints, chart, true);\n                for (i = 0; i < series.data.length; i++) {\n                    rawPoint = series.data[i];\n                    projectedPoint = projectedPoints[i];\n                    rawPoint.plotX = projectedPoint.x;\n                    rawPoint.plotY = projectedPoint.y;\n                    rawPoint.plotZ = projectedPoint.z;\n                }\n            };\n            /* *\n             *\n             *  Static Properties\n             *\n             * */\n            Series3D.defaultOptions = merge(Series.defaultOptions);\n            return Series3D;\n        }(Series));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return Series3D;\n    });\n    _registerModule(_modules, 'Core/Renderer/SVG/SVGElement3D.js', [_modules['Core/Color/Color.js'], _modules['Core/Renderer/RendererRegistry.js'], _modules['Core/Utilities.js']], function (Color, RendererRegistry, U) {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  Extensions to the SVGRenderer class to enable 3D shapes\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var color = Color.parse;\n        var SVGElement = RendererRegistry.getRendererType().prototype.Element;\n        var defined = U.defined, pick = U.pick;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var SVGElement3D = /** @class */ (function (_super) {\n            __extends(SVGElement3D, _super);\n            function SVGElement3D() {\n                /* *\n                 *\n                 *  Static Properties\n                 *\n                 * */\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                /* *\n                 *\n                 *  Properties\n                 *\n                 * */\n                _this.parts = ['front', 'top', 'side'];\n                _this.pathType = 'cuboid';\n                return _this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * The init is used by base - renderer.Element\n             * @private\n             */\n            SVGElement3D.prototype.initArgs = function (args) {\n                var elem3d = this, renderer = elem3d.renderer, paths = renderer[elem3d.pathType + 'Path'](args), zIndexes = paths.zIndexes;\n                // build parts\n                for (var _i = 0, _a = elem3d.parts; _i < _a.length; _i++) {\n                    var part = _a[_i];\n                    var attribs = {\n                        'class': 'highcharts-3d-' + part,\n                        zIndex: zIndexes[part] || 0\n                    };\n                    if (renderer.styledMode) {\n                        if (part === 'top') {\n                            attribs.filter = 'url(#highcharts-brighter)';\n                        }\n                        else if (part === 'side') {\n                            attribs.filter = 'url(#highcharts-darker)';\n                        }\n                    }\n                    elem3d[part] = renderer.path(paths[part])\n                        .attr(attribs)\n                        .add(elem3d);\n                }\n                elem3d.attr({\n                    'stroke-linejoin': 'round',\n                    zIndex: zIndexes.group\n                });\n                // Store information if any side of element was rendered by force.\n                elem3d.forcedSides = paths.forcedSides;\n            };\n            /**\n             * Single property setter that applies options to each part\n             * @private\n             */\n            SVGElement3D.prototype.singleSetterForParts = function (prop, val, values, verb, duration, complete) {\n                var elem3d = this, newAttr = {}, optionsToApply = [null, null, (verb || 'attr'), duration, complete], hasZIndexes = values && values.zIndexes;\n                if (!values) {\n                    newAttr[prop] = val;\n                    optionsToApply[0] = newAttr;\n                }\n                else {\n                    // It is needed to deal with the whole group zIndexing\n                    // in case of graph rotation\n                    if (hasZIndexes && hasZIndexes.group) {\n                        elem3d.attr({\n                            zIndex: hasZIndexes.group\n                        });\n                    }\n                    for (var _i = 0, _a = Object.keys(values); _i < _a.length; _i++) {\n                        var part = _a[_i];\n                        newAttr[part] = {};\n                        newAttr[part][prop] = values[part];\n                        // include zIndexes if provided\n                        if (hasZIndexes) {\n                            newAttr[part].zIndex = values.zIndexes[part] || 0;\n                        }\n                    }\n                    optionsToApply[1] = newAttr;\n                }\n                return this.processParts.apply(elem3d, optionsToApply);\n            };\n            /**\n             * Calls function for each part. Used for attr, animate and destroy.\n             * @private\n             */\n            SVGElement3D.prototype.processParts = function (props, partsProps, verb, duration, complete) {\n                var elem3d = this;\n                for (var _i = 0, _a = elem3d.parts; _i < _a.length; _i++) {\n                    var part = _a[_i];\n                    // if different props for different parts\n                    if (partsProps) {\n                        props = pick(partsProps[part], false);\n                    }\n                    // only if something to set, but allow undefined\n                    if (props !== false) {\n                        elem3d[part][verb](props, duration, complete);\n                    }\n                }\n                return elem3d;\n            };\n            /**\n             * Destroy all parts\n             * @private\n             */\n            SVGElement3D.prototype.destroy = function () {\n                this.processParts(null, null, 'destroy');\n                return _super.prototype.destroy.call(this);\n            };\n            // Following functions are SVGElement3DCuboid (= base)\n            SVGElement3D.prototype.attr = function (args, val, complete, continueAnimation) {\n                // Resolve setting attributes by string name\n                if (typeof args === 'string' && typeof val !== 'undefined') {\n                    var key = args;\n                    args = {};\n                    args[key] = val;\n                }\n                if (args.shapeArgs || defined(args.x)) {\n                    return this.singleSetterForParts('d', null, this.renderer[this.pathType + 'Path'](args.shapeArgs || args));\n                }\n                return _super.prototype.attr.call(this, args, void 0, complete, continueAnimation);\n            };\n            SVGElement3D.prototype.animate = function (args, duration, complete) {\n                if (defined(args.x) && defined(args.y)) {\n                    var paths = this.renderer[this.pathType + 'Path'](args), forcedSides = paths.forcedSides;\n                    this.singleSetterForParts('d', null, paths, 'animate', duration, complete);\n                    this.attr({\n                        zIndex: paths.zIndexes.group\n                    });\n                    // If sides that are forced to render changed, recalculate colors.\n                    if (forcedSides !== this.forcedSides) {\n                        this.forcedSides = forcedSides;\n                        if (!this.renderer.styledMode) {\n                            this.fillSetter(this.fill);\n                        }\n                    }\n                }\n                else {\n                    _super.prototype.animate.call(this, args, duration, complete);\n                }\n                return this;\n            };\n            SVGElement3D.prototype.fillSetter = function (fill) {\n                var elem3d = this;\n                elem3d.forcedSides = elem3d.forcedSides || [];\n                elem3d.singleSetterForParts('fill', null, {\n                    front: fill,\n                    // Do not change color if side was forced to render.\n                    top: color(fill).brighten(elem3d.forcedSides.indexOf('top') >= 0 ? 0 : 0.1).get(),\n                    side: color(fill).brighten(elem3d.forcedSides.indexOf('side') >= 0 ? 0 : -0.1).get()\n                });\n                // fill for animation getter (#6776)\n                elem3d.color = elem3d.fill = fill;\n                return elem3d;\n            };\n            SVGElement3D.types = {\n                base: SVGElement3D,\n                cuboid: SVGElement3D\n            };\n            return SVGElement3D;\n        }(SVGElement));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return SVGElement3D;\n    });\n    _registerModule(_modules, 'Core/Renderer/SVG/SVGRenderer3D.js', [_modules['Core/Animation/AnimationUtilities.js'], _modules['Core/Color/Color.js'], _modules['Core/Globals.js'], _modules['Core/Math3D.js'], _modules['Core/Renderer/SVG/SVGElement3D.js'], _modules['Core/Utilities.js']], function (A, Color, H, Math3D, SVGElement3D, U) {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  Extensions to the SVGRenderer class to enable 3D shapes\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var animObject = A.animObject;\n        var color = Color.parse;\n        var charts = H.charts, deg2rad = H.deg2rad;\n        var perspective = Math3D.perspective, shapeArea = Math3D.shapeArea;\n        var defined = U.defined, extend = U.extend, merge = U.merge, pick = U.pick, pushUnique = U.pushUnique;\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        var composedMembers = [], cos = Math.cos, sin = Math.sin, PI = Math.PI, dFactor = (4 * (Math.sqrt(2) - 1) / 3) / (PI / 2);\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * Method to construct a curved path. Can 'wrap' around more then 180\n         * degrees.\n         * @private\n         */\n        function curveTo(cx, cy, rx, ry, start, end, dx, dy) {\n            var arcAngle = end - start;\n            var result = [];\n            if ((end > start) && (end - start > Math.PI / 2 + 0.0001)) {\n                result = result.concat(curveTo(cx, cy, rx, ry, start, start + (Math.PI / 2), dx, dy));\n                result = result.concat(curveTo(cx, cy, rx, ry, start + (Math.PI / 2), end, dx, dy));\n                return result;\n            }\n            if ((end < start) && (start - end > Math.PI / 2 + 0.0001)) {\n                result = result.concat(curveTo(cx, cy, rx, ry, start, start - (Math.PI / 2), dx, dy));\n                result = result.concat(curveTo(cx, cy, rx, ry, start - (Math.PI / 2), end, dx, dy));\n                return result;\n            }\n            return [[\n                    'C',\n                    cx + (rx * Math.cos(start)) -\n                        ((rx * dFactor * arcAngle) * Math.sin(start)) + dx,\n                    cy + (ry * Math.sin(start)) +\n                        ((ry * dFactor * arcAngle) * Math.cos(start)) + dy,\n                    cx + (rx * Math.cos(end)) +\n                        ((rx * dFactor * arcAngle) * Math.sin(end)) + dx,\n                    cy + (ry * Math.sin(end)) -\n                        ((ry * dFactor * arcAngle) * Math.cos(end)) + dy,\n                    cx + (rx * Math.cos(end)) + dx,\n                    cy + (ry * Math.sin(end)) + dy\n                ]];\n        }\n        /* *\n         *\n         *  Composition\n         *\n         * */\n        var SVGRenderer3D;\n        (function (SVGRenderer3D) {\n            /* *\n             *\n             *  Declarations\n             *\n             * */\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /** @private */\n            function compose(SVGRendererClass) {\n                if (pushUnique(composedMembers, SVGRendererClass)) {\n                    extend(SVGRendererClass.prototype, {\n                        Element3D: SVGElement3D,\n                        arc3d: arc3d,\n                        arc3dPath: arc3dPath,\n                        cuboid: cuboid,\n                        cuboidPath: cuboidPath,\n                        element3d: element3d,\n                        face3d: face3d,\n                        polyhedron: polyhedron,\n                        toLinePath: toLinePath,\n                        toLineSegments: toLineSegments\n                    });\n                }\n            }\n            SVGRenderer3D.compose = compose;\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /** @private */\n            function toLinePath(points, closed) {\n                var result = [];\n                // Put \"L x y\" for each point\n                for (var _i = 0, points_1 = points; _i < points_1.length; _i++) {\n                    var point = points_1[_i];\n                    result.push(['L', point.x, point.y]);\n                }\n                if (points.length) {\n                    // Set the first element to M\n                    result[0][0] = 'M';\n                    // If it is a closed line, add Z\n                    if (closed) {\n                        result.push(['Z']);\n                    }\n                }\n                return result;\n            }\n            /** @private */\n            function toLineSegments(points) {\n                var result = [];\n                var m = true;\n                for (var _i = 0, points_2 = points; _i < points_2.length; _i++) {\n                    var point = points_2[_i];\n                    result.push(m ? ['M', point.x, point.y] : ['L', point.x, point.y]);\n                    m = !m;\n                }\n                return result;\n            }\n            /**\n             * A 3-D Face is defined by it's 3D vertexes, and is only visible if it's\n             * vertexes are counter-clockwise (Back-face culling). It is used as a\n             * polyhedron Element.\n             * @private\n             */\n            function face3d(args) {\n                var renderer = this, elementProto = renderer.Element.prototype, ret = renderer.createElement('path');\n                ret.vertexes = [];\n                ret.insidePlotArea = false;\n                ret.enabled = true;\n                /* eslint-disable no-invalid-this */\n                ret.attr = function (hash) {\n                    if (typeof hash === 'object' &&\n                        (defined(hash.enabled) ||\n                            defined(hash.vertexes) ||\n                            defined(hash.insidePlotArea))) {\n                        this.enabled = pick(hash.enabled, this.enabled);\n                        this.vertexes = pick(hash.vertexes, this.vertexes);\n                        this.insidePlotArea = pick(hash.insidePlotArea, this.insidePlotArea);\n                        delete hash.enabled;\n                        delete hash.vertexes;\n                        delete hash.insidePlotArea;\n                        var chart = charts[renderer.chartIndex], vertexes2d = perspective(this.vertexes, chart, this.insidePlotArea), path = renderer.toLinePath(vertexes2d, true), area = shapeArea(vertexes2d);\n                        hash.d = path;\n                        hash.visibility = (this.enabled && area > 0) ?\n                            'inherit' : 'hidden';\n                    }\n                    return elementProto.attr.apply(this, arguments);\n                };\n                ret.animate = function (params) {\n                    if (typeof params === 'object' &&\n                        (defined(params.enabled) ||\n                            defined(params.vertexes) ||\n                            defined(params.insidePlotArea))) {\n                        this.enabled = pick(params.enabled, this.enabled);\n                        this.vertexes = pick(params.vertexes, this.vertexes);\n                        this.insidePlotArea = pick(params.insidePlotArea, this.insidePlotArea);\n                        delete params.enabled;\n                        delete params.vertexes;\n                        delete params.insidePlotArea;\n                        var chart = charts[renderer.chartIndex], vertexes2d = perspective(this.vertexes, chart, this.insidePlotArea), path = renderer.toLinePath(vertexes2d, true), area = shapeArea(vertexes2d), visibility = (this.enabled && area > 0) ?\n                            'visible' : 'hidden';\n                        params.d = path;\n                        this.attr('visibility', visibility);\n                    }\n                    return elementProto.animate.apply(this, arguments);\n                };\n                /* eslint-enable no-invalid-this */\n                return ret.attr(args);\n            }\n            /**\n             * A Polyhedron is a handy way of defining a group of 3-D faces. It's only\n             * attribute is `faces`, an array of attributes of each one of it's Face3D\n             * instances.\n             * @private\n             */\n            function polyhedron(args) {\n                var renderer = this, elementProto = renderer.Element.prototype, result = renderer.g(), destroy = result.destroy;\n                if (!this.styledMode) {\n                    result.attr({\n                        'stroke-linejoin': 'round'\n                    });\n                }\n                result.faces = [];\n                // destroy all children\n                result.destroy = function () {\n                    for (var i = 0; i < result.faces.length; i++) {\n                        result.faces[i].destroy();\n                    }\n                    return destroy.call(this);\n                };\n                result.attr = function (hash, val, complete, continueAnimation) {\n                    if (typeof hash === 'object' && defined(hash.faces)) {\n                        while (result.faces.length > hash.faces.length) {\n                            result.faces.pop().destroy();\n                        }\n                        while (result.faces.length < hash.faces.length) {\n                            result.faces.push(renderer.face3d().add(result));\n                        }\n                        for (var i = 0; i < hash.faces.length; i++) {\n                            if (renderer.styledMode) {\n                                delete hash.faces[i].fill;\n                            }\n                            result.faces[i].attr(hash.faces[i], null, complete, continueAnimation);\n                        }\n                        delete hash.faces;\n                    }\n                    return elementProto.attr.apply(this, arguments);\n                };\n                result.animate = function (params, duration, complete) {\n                    if (params && params.faces) {\n                        while (result.faces.length > params.faces.length) {\n                            result.faces.pop().destroy();\n                        }\n                        while (result.faces.length < params.faces.length) {\n                            result.faces.push(renderer.face3d().add(result));\n                        }\n                        for (var i = 0; i < params.faces.length; i++) {\n                            result.faces[i].animate(params.faces[i], duration, complete);\n                        }\n                        delete params.faces;\n                    }\n                    return elementProto.animate.apply(this, arguments);\n                };\n                return result.attr(args);\n            }\n            /**\n             * return result, generalization\n             * @private\n             * @requires highcharts-3d\n             */\n            function element3d(type, shapeArgs) {\n                // base\n                var elem3d = new SVGElement3D.types[type]();\n                // init\n                elem3d.init(this, 'g');\n                elem3d.initArgs(shapeArgs);\n                // return\n                return elem3d;\n            }\n            /**\n             * generelized, so now use simply\n             * @private\n             */\n            function cuboid(shapeArgs) {\n                return this.element3d('cuboid', shapeArgs);\n            }\n            /**\n             * Generates a cuboid path and zIndexes\n             * @private\n             */\n            function cuboidPath(shapeArgs) {\n                var x = shapeArgs.x || 0, y = shapeArgs.y || 0, z = shapeArgs.z || 0, \n                // For side calculation (right/left)\n                // there is a need for height (and other shapeArgs arguments)\n                // to be at least 1px\n                h = shapeArgs.height || 0, w = shapeArgs.width || 0, d = shapeArgs.depth || 0, chart = charts[this.chartIndex], options3d = chart.options.chart.options3d, alpha = options3d.alpha, \n                // Priority for x axis is the biggest,\n                // because of x direction has biggest influence on zIndex\n                incrementX = 1000000, \n                // y axis has the smallest priority in case of our charts\n                // (needs to be set because of stacking)\n                incrementY = 10, incrementZ = 100, forcedSides = [];\n                var shape, zIndex = 0, \n                // The 8 corners of the cube\n                pArr = [{\n                        x: x,\n                        y: y,\n                        z: z\n                    }, {\n                        x: x + w,\n                        y: y,\n                        z: z\n                    }, {\n                        x: x + w,\n                        y: y + h,\n                        z: z\n                    }, {\n                        x: x,\n                        y: y + h,\n                        z: z\n                    }, {\n                        x: x,\n                        y: y + h,\n                        z: z + d\n                    }, {\n                        x: x + w,\n                        y: y + h,\n                        z: z + d\n                    }, {\n                        x: x + w,\n                        y: y,\n                        z: z + d\n                    }, {\n                        x: x,\n                        y: y,\n                        z: z + d\n                    }];\n                // apply perspective\n                pArr = perspective(pArr, chart, shapeArgs.insidePlotArea);\n                /**\n                 * helper method to decide which side is visible\n                 * @private\n                 */\n                var mapSidePath = function (i) {\n                    // Added support for 0 value in columns, where height is 0\n                    // but the shape is rendered.\n                    // Height is used from 1st to 6th element of pArr\n                    if (h === 0 && i > 1 && i < 6) { // [2, 3, 4, 5]\n                        return {\n                            x: pArr[i].x,\n                            // when height is 0 instead of cuboid we render plane\n                            // so it is needed to add fake 10 height to imitate\n                            // cuboid for side calculation\n                            y: pArr[i].y + 10,\n                            z: pArr[i].z\n                        };\n                    }\n                    // It is needed to calculate dummy sides (front/back) for\n                    // breaking points in case of x and depth values. If column has\n                    // side, it means that x values of front and back side are\n                    // different.\n                    if (pArr[0].x === pArr[7].x && i >= 4) { // [4, 5, 6, 7]\n                        return {\n                            x: pArr[i].x + 10,\n                            // when height is 0 instead of cuboid we render plane\n                            // so it is needed to add fake 10 height to imitate\n                            // cuboid for side calculation\n                            y: pArr[i].y,\n                            z: pArr[i].z\n                        };\n                    }\n                    // Added dummy depth\n                    if (d === 0 && i < 2 || i > 5) { // [0, 1, 6, 7]\n                        return {\n                            x: pArr[i].x,\n                            // when height is 0 instead of cuboid we render plane\n                            // so it is needed to add fake 10 height to imitate\n                            // cuboid for side calculation\n                            y: pArr[i].y,\n                            z: pArr[i].z + 10\n                        };\n                    }\n                    return pArr[i];\n                }, \n                /**\n                 * method creating the final side\n                 * @private\n                 */\n                mapPath = function (i) { return (pArr[i]); }, \n                /**\n                 * First value - path with specific face\n                 * Second  value - added info about side for later calculations.\n                 *                 Possible second values are 0 for path1, 1 for\n                 *                 path2 and -1 for no path chosen.\n                 * Third value - string containing information about current side of\n                 *               cuboid for forcing side rendering.\n                 * @private\n                 */\n                pickShape = function (verticesIndex1, verticesIndex2, side) {\n                    var // An array of vertices for cuboid face\n                    face1 = verticesIndex1.map(mapPath), face2 = verticesIndex2.map(mapPath), \n                    // dummy face is calculated the same way as standard face,\n                    // but if cuboid height is 0 additional height is added so\n                    // it is possible to use this vertices array for visible\n                    // face calculation\n                    dummyFace1 = verticesIndex1.map(mapSidePath), dummyFace2 = verticesIndex2.map(mapSidePath);\n                    var ret = [[], -1];\n                    if (shapeArea(face1) < 0) {\n                        ret = [face1, 0];\n                    }\n                    else if (shapeArea(face2) < 0) {\n                        ret = [face2, 1];\n                    }\n                    else if (side) {\n                        forcedSides.push(side);\n                        if (shapeArea(dummyFace1) < 0) {\n                            ret = [face1, 0];\n                        }\n                        else if (shapeArea(dummyFace2) < 0) {\n                            ret = [face2, 1];\n                        }\n                        else {\n                            ret = [face1, 0]; // force side calculation.\n                        }\n                    }\n                    return ret;\n                };\n                // front or back\n                var front = [3, 2, 1, 0], back = [7, 6, 5, 4];\n                shape = pickShape(front, back, 'front');\n                var path1 = shape[0], isFront = shape[1];\n                // top or bottom\n                var top = [1, 6, 7, 0], bottom = [4, 5, 2, 3];\n                shape = pickShape(top, bottom, 'top');\n                var path2 = shape[0], isTop = shape[1];\n                // side\n                var right = [1, 2, 5, 6], left = [0, 7, 4, 3];\n                shape = pickShape(right, left, 'side');\n                var path3 = shape[0], isRight = shape[1];\n                /* New block used for calculating zIndex. It is basing on X, Y and Z\n                position of specific columns. All zIndexes (for X, Y and Z values) are\n                added to the final zIndex, where every value has different priority. The\n                biggest priority is in X and Z directions, the lowest index is for\n                stacked columns (Y direction and the same X and Z positions). Big\n                differences between priorities is made because we need to ensure that\n                even for big changes in Y and Z parameters all columns will be drawn\n                correctly. */\n                if (isRight === 1) {\n                    // It is needed to connect value with current chart width\n                    // for big chart size.\n                    zIndex += incrementX * (chart.plotWidth - x);\n                }\n                else if (!isRight) {\n                    zIndex += incrementX * x;\n                }\n                zIndex += incrementY * (!isTop ||\n                    // Numbers checked empirically\n                    (alpha >= 0 && alpha <= 180 || alpha < 360 && alpha > 357.5) ?\n                    chart.plotHeight - y : 10 + y);\n                if (isFront === 1) {\n                    zIndex += incrementZ * (z);\n                }\n                else if (!isFront) {\n                    zIndex += incrementZ * (1000 - z);\n                }\n                return {\n                    front: this.toLinePath(path1, true),\n                    top: this.toLinePath(path2, true),\n                    side: this.toLinePath(path3, true),\n                    zIndexes: {\n                        group: Math.round(zIndex)\n                    },\n                    forcedSides: forcedSides,\n                    // additional info about zIndexes\n                    isFront: isFront,\n                    isTop: isTop\n                }; // #4774\n            }\n            /** @private */\n            function arc3d(attribs) {\n                var renderer = this, wrapper = renderer.g(), elementProto = renderer.Element.prototype, customAttribs = ['x', 'y', 'r', 'innerR', 'start', 'end', 'depth'];\n                /**\n                 * Get custom attributes. Don't mutate the original object and return an\n                 * object with only custom attr.\n                 * @private\n                 */\n                function suckOutCustom(params) {\n                    var ca = {};\n                    var hasCA = false, key;\n                    params = merge(params); // Don't mutate the original object\n                    for (key in params) {\n                        if (customAttribs.indexOf(key) !== -1) {\n                            ca[key] = params[key];\n                            delete params[key];\n                            hasCA = true;\n                        }\n                    }\n                    return hasCA ? [ca, params] : false;\n                }\n                attribs = merge(attribs);\n                attribs.alpha = (attribs.alpha || 0) * deg2rad;\n                attribs.beta = (attribs.beta || 0) * deg2rad;\n                // Create the different sub sections of the shape\n                wrapper.top = renderer.path();\n                wrapper.side1 = renderer.path();\n                wrapper.side2 = renderer.path();\n                wrapper.inn = renderer.path();\n                wrapper.out = renderer.path();\n                /* eslint-disable no-invalid-this */\n                // Add all faces\n                wrapper.onAdd = function () {\n                    var parent = wrapper.parentGroup, className = wrapper.attr('class');\n                    wrapper.top.add(wrapper);\n                    // These faces are added outside the wrapper group because the\n                    // z-index relates to neighbour elements as well\n                    for (var _i = 0, _a = ['out', 'inn', 'side1', 'side2']; _i < _a.length; _i++) {\n                        var face = _a[_i];\n                        wrapper[face]\n                            .attr({\n                            'class': className + ' highcharts-3d-side'\n                        })\n                            .add(parent);\n                    }\n                };\n                var _loop_1 = function (fn) {\n                    wrapper[fn] = function () {\n                        var args = arguments;\n                        for (var _i = 0, _a = ['top', 'out', 'inn', 'side1', 'side2']; _i < _a.length; _i++) {\n                            var face = _a[_i];\n                            wrapper[face][fn].apply(wrapper[face], args);\n                        }\n                    };\n                };\n                // Cascade to faces\n                for (var _i = 0, _a = ['addClass', 'removeClass']; _i < _a.length; _i++) {\n                    var fn = _a[_i];\n                    _loop_1(fn);\n                }\n                /**\n                 * Compute the transformed paths and set them to the composite shapes\n                 * @private\n                 */\n                wrapper.setPaths = function (attribs) {\n                    var paths = wrapper.renderer.arc3dPath(attribs), zIndex = paths.zTop * 100;\n                    wrapper.attribs = attribs;\n                    wrapper.top.attr({ d: paths.top, zIndex: paths.zTop });\n                    wrapper.inn.attr({ d: paths.inn, zIndex: paths.zInn });\n                    wrapper.out.attr({ d: paths.out, zIndex: paths.zOut });\n                    wrapper.side1.attr({ d: paths.side1, zIndex: paths.zSide1 });\n                    wrapper.side2.attr({ d: paths.side2, zIndex: paths.zSide2 });\n                    // show all children\n                    wrapper.zIndex = zIndex;\n                    wrapper.attr({ zIndex: zIndex });\n                    // Set the radial gradient center the first time\n                    if (attribs.center) {\n                        wrapper.top.setRadialReference(attribs.center);\n                        delete attribs.center;\n                    }\n                };\n                wrapper.setPaths(attribs);\n                /**\n                 * Apply the fill to the top and a darker shade to the sides\n                 * @private\n                 */\n                wrapper.fillSetter = function (value) {\n                    var darker = color(value).brighten(-0.1).get();\n                    this.fill = value;\n                    this.side1.attr({ fill: darker });\n                    this.side2.attr({ fill: darker });\n                    this.inn.attr({ fill: darker });\n                    this.out.attr({ fill: darker });\n                    this.top.attr({ fill: value });\n                    return this;\n                };\n                // Apply the same value to all. These properties cascade down to the\n                // children when set to the composite arc3d.\n                for (var _b = 0, _c = ['opacity', 'translateX', 'translateY', 'visibility']; _b < _c.length; _b++) {\n                    var setter = _c[_b];\n                    wrapper[setter + 'Setter'] = function (value, key) {\n                        wrapper[key] = value;\n                        for (var _i = 0, _a = ['out', 'inn', 'side1', 'side2', 'top']; _i < _a.length; _i++) {\n                            var el = _a[_i];\n                            wrapper[el].attr(key, value);\n                        }\n                    };\n                }\n                // Override attr to remove shape attributes and use those to set child\n                // paths\n                wrapper.attr = function (params) {\n                    var ca, paramArr;\n                    if (typeof params === 'object') {\n                        paramArr = suckOutCustom(params);\n                        if (paramArr) {\n                            ca = paramArr[0];\n                            arguments[0] = paramArr[1];\n                            extend(wrapper.attribs, ca);\n                            wrapper.setPaths(wrapper.attribs);\n                        }\n                    }\n                    return elementProto.attr.apply(wrapper, arguments);\n                };\n                // Override the animate function by sucking out custom parameters\n                // related to the shapes directly, and update the shapes from the\n                // animation step.\n                wrapper.animate = function (params, animation, complete) {\n                    var from = this.attribs, randomProp = ('data-' + Math.random().toString(26).substring(2, 9));\n                    var paramArr, to;\n                    // Attribute-line properties connected to 3D. These shouldn't have\n                    // been in the attribs collection in the first place.\n                    delete params.center;\n                    delete params.z;\n                    delete params.alpha;\n                    delete params.beta;\n                    var anim = animObject(pick(animation, this.renderer.globalAnimation));\n                    if (anim.duration) {\n                        paramArr = suckOutCustom(params);\n                        // Params need to have a property in order for the step to run\n                        // (#5765, #7097, #7437)\n                        wrapper[randomProp] = 0;\n                        params[randomProp] = 1;\n                        wrapper[randomProp + 'Setter'] = H.noop;\n                        if (paramArr) {\n                            to = paramArr[0]; // custom attr\n                            anim.step = function (a, fx) {\n                                var interpolate = function (key) { return (from[key] + (pick(to[key], from[key]) -\n                                    from[key]) * fx.pos); };\n                                if (fx.prop === randomProp) {\n                                    fx.elem.setPaths(merge(from, {\n                                        x: interpolate('x'),\n                                        y: interpolate('y'),\n                                        r: interpolate('r'),\n                                        innerR: interpolate('innerR'),\n                                        start: interpolate('start'),\n                                        end: interpolate('end'),\n                                        depth: interpolate('depth')\n                                    }));\n                                }\n                            };\n                        }\n                        animation = anim; // Only when duration (#5572)\n                    }\n                    return elementProto.animate.call(this, params, animation, complete);\n                };\n                // destroy all children\n                wrapper.destroy = function () {\n                    this.top.destroy();\n                    this.out.destroy();\n                    this.inn.destroy();\n                    this.side1.destroy();\n                    this.side2.destroy();\n                    return elementProto.destroy.call(this);\n                };\n                // hide all children\n                wrapper.hide = function () {\n                    this.top.hide();\n                    this.out.hide();\n                    this.inn.hide();\n                    this.side1.hide();\n                    this.side2.hide();\n                };\n                wrapper.show = function (inherit) {\n                    this.top.show(inherit);\n                    this.out.show(inherit);\n                    this.inn.show(inherit);\n                    this.side1.show(inherit);\n                    this.side2.show(inherit);\n                };\n                /* eslint-enable no-invalid-this */\n                return wrapper;\n            }\n            /**\n             * Generate the paths required to draw a 3D arc.\n             * @private\n             */\n            function arc3dPath(shapeArgs) {\n                var cx = shapeArgs.x || 0, // x coordinate of the center\n                cy = shapeArgs.y || 0, // y coordinate of the center\n                start = shapeArgs.start || 0, // start angle\n                end = (shapeArgs.end || 0) - 0.00001, // end angle\n                r = shapeArgs.r || 0, // radius\n                ir = shapeArgs.innerR || 0, // inner radius\n                d = shapeArgs.depth || 0, // depth\n                alpha = shapeArgs.alpha || 0, // alpha rotation of the chart\n                beta = shapeArgs.beta || 0; // beta rotation of the chart\n                // Derived Variables\n                var cs = Math.cos(start), // cosinus of the start angle\n                ss = Math.sin(start), // sinus of the start angle\n                ce = Math.cos(end), // cosinus of the end angle\n                se = Math.sin(end), // sinus of the end angle\n                rx = r * Math.cos(beta), // x-radius\n                ry = r * Math.cos(alpha), // y-radius\n                irx = ir * Math.cos(beta), // x-radius (inner)\n                iry = ir * Math.cos(alpha), // y-radius (inner)\n                dx = d * Math.sin(beta), // distance between top and bottom in x\n                dy = d * Math.sin(alpha); // distance between top and bottom in y\n                // TOP\n                var top = [\n                    ['M', cx + (rx * cs), cy + (ry * ss)]\n                ];\n                top = top.concat(curveTo(cx, cy, rx, ry, start, end, 0, 0));\n                top.push([\n                    'L', cx + (irx * ce), cy + (iry * se)\n                ]);\n                top = top.concat(curveTo(cx, cy, irx, iry, end, start, 0, 0));\n                top.push(['Z']);\n                // OUTSIDE\n                var b = (beta > 0 ? Math.PI / 2 : 0), a = (alpha > 0 ? 0 : Math.PI / 2);\n                var start2 = start > -b ? start : (end > -b ? -b : start), end2 = end < PI - a ? end : (start < PI - a ? PI - a : end), midEnd = 2 * PI - a;\n                // When slice goes over bottom middle, need to add both, left and right\n                // outer side. Additionally, when we cross right hand edge, create sharp\n                // edge. Outer shape/wall:\n                //\n                //            -------\n                //          /    ^    \\\n                //    4)   /   /   \\   \\  1)\n                //        /   /     \\   \\\n                //       /   /       \\   \\\n                // (c)=> ====         ==== <=(d)\n                //       \\   \\       /   /\n                //        \\   \\<=(a)/   /\n                //         \\   \\   /   / <=(b)\n                //    3)    \\    v    /  2)\n                //            -------\n                //\n                // (a) - inner side\n                // (b) - outer side\n                // (c) - left edge (sharp)\n                // (d) - right edge (sharp)\n                // 1..n - rendering order for startAngle = 0, when set to e.g 90, order\n                // changes clockwise (1->2, 2->3, n->1) and counterclockwise for\n                // negative startAngle\n                var out = [\n                    ['M', cx + (rx * cos(start2)), cy + (ry * sin(start2))]\n                ];\n                out = out.concat(curveTo(cx, cy, rx, ry, start2, end2, 0, 0));\n                // When shape is wide, it can cross both, (c) and (d) edges, when using\n                // startAngle\n                if (end > midEnd && start < midEnd) {\n                    // Go to outer side\n                    out.push([\n                        'L', cx + (rx * cos(end2)) + dx, cy + (ry * sin(end2)) + dy\n                    ]);\n                    // Curve to the right edge of the slice (d)\n                    out = out.concat(curveTo(cx, cy, rx, ry, end2, midEnd, dx, dy));\n                    // Go to the inner side\n                    out.push([\n                        'L', cx + (rx * cos(midEnd)), cy + (ry * sin(midEnd))\n                    ]);\n                    // Curve to the true end of the slice\n                    out = out.concat(curveTo(cx, cy, rx, ry, midEnd, end, 0, 0));\n                    // Go to the outer side\n                    out.push([\n                        'L', cx + (rx * cos(end)) + dx, cy + (ry * sin(end)) + dy\n                    ]);\n                    // Go back to middle (d)\n                    out = out.concat(curveTo(cx, cy, rx, ry, end, midEnd, dx, dy));\n                    out.push([\n                        'L', cx + (rx * cos(midEnd)), cy + (ry * sin(midEnd))\n                    ]);\n                    // Go back to the left edge\n                    out = out.concat(curveTo(cx, cy, rx, ry, midEnd, end2, 0, 0));\n                    // But shape can cross also only (c) edge:\n                }\n                else if (end > PI - a && start < PI - a) {\n                    // Go to outer side\n                    out.push([\n                        'L',\n                        cx + (rx * Math.cos(end2)) + dx,\n                        cy + (ry * Math.sin(end2)) + dy\n                    ]);\n                    // Curve to the true end of the slice\n                    out = out.concat(curveTo(cx, cy, rx, ry, end2, end, dx, dy));\n                    // Go to the inner side\n                    out.push([\n                        'L', cx + (rx * Math.cos(end)), cy + (ry * Math.sin(end))\n                    ]);\n                    // Go back to the artifical end2\n                    out = out.concat(curveTo(cx, cy, rx, ry, end, end2, 0, 0));\n                }\n                out.push([\n                    'L',\n                    cx + (rx * Math.cos(end2)) + dx,\n                    cy + (ry * Math.sin(end2)) + dy\n                ]);\n                out = out.concat(curveTo(cx, cy, rx, ry, end2, start2, dx, dy));\n                out.push(['Z']);\n                // INSIDE\n                var inn = [\n                    ['M', cx + (irx * cs), cy + (iry * ss)]\n                ];\n                inn = inn.concat(curveTo(cx, cy, irx, iry, start, end, 0, 0));\n                inn.push([\n                    'L',\n                    cx + (irx * Math.cos(end)) + dx,\n                    cy + (iry * Math.sin(end)) + dy\n                ]);\n                inn = inn.concat(curveTo(cx, cy, irx, iry, end, start, dx, dy));\n                inn.push(['Z']);\n                // SIDES\n                var side1 = [\n                    ['M', cx + (rx * cs), cy + (ry * ss)],\n                    ['L', cx + (rx * cs) + dx, cy + (ry * ss) + dy],\n                    ['L', cx + (irx * cs) + dx, cy + (iry * ss) + dy],\n                    ['L', cx + (irx * cs), cy + (iry * ss)],\n                    ['Z']\n                ];\n                var side2 = [\n                    ['M', cx + (rx * ce), cy + (ry * se)],\n                    ['L', cx + (rx * ce) + dx, cy + (ry * se) + dy],\n                    ['L', cx + (irx * ce) + dx, cy + (iry * se) + dy],\n                    ['L', cx + (irx * ce), cy + (iry * se)],\n                    ['Z']\n                ];\n                // correction for changed position of vanishing point caused by alpha\n                // and beta rotations\n                var angleCorr = Math.atan2(dy, -dx);\n                var angleEnd = Math.abs(end + angleCorr), angleStart = Math.abs(start + angleCorr), angleMid = Math.abs((start + end) / 2 + angleCorr);\n                /**\n                 * set to 0-PI range\n                 * @private\n                 */\n                function toZeroPIRange(angle) {\n                    angle = angle % (2 * Math.PI);\n                    if (angle > Math.PI) {\n                        angle = 2 * Math.PI - angle;\n                    }\n                    return angle;\n                }\n                angleEnd = toZeroPIRange(angleEnd);\n                angleStart = toZeroPIRange(angleStart);\n                angleMid = toZeroPIRange(angleMid);\n                // *1e5 is to compensate pInt in zIndexSetter\n                var incPrecision = 1e5, a1 = angleMid * incPrecision, a2 = angleStart * incPrecision, a3 = angleEnd * incPrecision;\n                return {\n                    top: top,\n                    // max angle is PI, so this is always higher\n                    zTop: Math.PI * incPrecision + 1,\n                    out: out,\n                    zOut: Math.max(a1, a2, a3),\n                    inn: inn,\n                    zInn: Math.max(a1, a2, a3),\n                    side1: side1,\n                    // to keep below zOut and zInn in case of same values\n                    zSide1: a3 * 0.99,\n                    side2: side2,\n                    zSide2: a2 * 0.99\n                };\n            }\n        })(SVGRenderer3D || (SVGRenderer3D = {}));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return SVGRenderer3D;\n    });\n    _registerModule(_modules, 'Core/Axis/ZAxis.js', [_modules['Core/Axis/Axis.js'], _modules['Core/Utilities.js']], function (Axis, U) {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var addEvent = U.addEvent, merge = U.merge, pick = U.pick, splat = U.splat;\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        var composedMembers = [];\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /**\n         * @private\n         */\n        function chartAddZAxis(options) {\n            return new ZAxis(this, options);\n        }\n        /**\n         * Get the Z axis in addition to the default X and Y.\n         * @private\n         */\n        function onChartAfterGetAxes() {\n            var _this = this;\n            var zAxisOptions = this.options.zAxis = splat(this.options.zAxis || {});\n            if (!this.is3d()) {\n                return;\n            }\n            this.zAxis = [];\n            zAxisOptions.forEach(function (axisOptions, i) {\n                _this.addZAxis(axisOptions).setScale();\n            });\n        }\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * 3D axis for z coordinates.\n         */\n        var ZAxis = /** @class */ (function (_super) {\n            __extends(ZAxis, _super);\n            function ZAxis() {\n                /* *\n                 *\n                 *  Static Properties\n                 *\n                 * */\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.isZAxis = true;\n                return _this;\n            }\n            ZAxis.compose = function (ChartClass) {\n                if (U.pushUnique(composedMembers, ChartClass)) {\n                    addEvent(ChartClass, 'afterGetAxes', onChartAfterGetAxes);\n                    var chartProto = ChartClass.prototype;\n                    chartProto.addZAxis = chartAddZAxis;\n                    chartProto.collectionsWithInit.zAxis = [chartProto.addZAxis];\n                    chartProto.collectionsWithUpdate.push('zAxis');\n                }\n            };\n            /* *\n             *\n             *  Constructor\n             *\n             * */\n            ZAxis.prototype.init = function (chart, userOptions) {\n                // #14793, this used to be set on the prototype\n                this.isZAxis = true;\n                _super.prototype.init.call(this, chart, userOptions, 'zAxis');\n            };\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            ZAxis.prototype.getSeriesExtremes = function () {\n                var _this = this;\n                var chart = this.chart;\n                this.hasVisibleSeries = false;\n                // Reset properties in case we're redrawing (#3353)\n                this.dataMin = this.dataMax = this.ignoreMinPadding = (this.ignoreMaxPadding = void 0);\n                if (this.stacking) {\n                    this.stacking.buildStacks();\n                }\n                // loop through this axis' series\n                this.series.forEach(function (series) {\n                    if (series.reserveSpace()) {\n                        var threshold = series.options.threshold;\n                        _this.hasVisibleSeries = true;\n                        // Validate threshold in logarithmic axes\n                        if (_this.positiveValuesOnly && threshold <= 0) {\n                            threshold = void 0;\n                        }\n                        var zData = series.zData;\n                        if (zData.length) {\n                            _this.dataMin = Math.min(pick(_this.dataMin, zData[0]), Math.min.apply(null, zData));\n                            _this.dataMax = Math.max(pick(_this.dataMax, zData[0]), Math.max.apply(null, zData));\n                        }\n                    }\n                });\n            };\n            /**\n             * @private\n             */\n            ZAxis.prototype.setAxisSize = function () {\n                var chart = this.chart;\n                _super.prototype.setAxisSize.call(this);\n                this.width = this.len = (chart.options.chart.options3d &&\n                    chart.options.chart.options3d.depth) || 0;\n                this.right = chart.chartWidth - this.width - this.left;\n            };\n            /**\n             * @private\n             */\n            ZAxis.prototype.setOptions = function (userOptions) {\n                userOptions = merge({\n                    offset: 0,\n                    lineWidth: 0\n                }, userOptions);\n                _super.prototype.setOptions.call(this, userOptions);\n            };\n            return ZAxis;\n        }(Axis));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return ZAxis;\n    });\n    _registerModule(_modules, 'Series/Column3D/Column3DComposition.js', [_modules['Core/Math3D.js'], _modules['Core/Utilities.js']], function (Math3D, U) {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var perspective = Math3D.perspective;\n        var addEvent = U.addEvent, extend = U.extend, pick = U.pick, pushUnique = U.pushUnique, wrap = U.wrap;\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        var composedMembers = [];\n        /* *\n         *\n         *  Functions\n         *\n         * */\n        /** @private */\n        function columnSeriesTranslate3dShapes() {\n            var series = this, chart = series.chart, seriesOptions = series.options, depth = seriesOptions.depth, stack = seriesOptions.stacking ?\n                (seriesOptions.stack || 0) :\n                series.index; // #4743\n            var z = stack * (depth + (seriesOptions.groupZPadding || 1)), borderCrisp = series.borderWidth % 2 ? 0.5 : 0, point2dPos; // Position of point in 2D, used for 3D position calculation\n            if (chart.inverted && !series.yAxis.reversed) {\n                borderCrisp *= -1;\n            }\n            if (seriesOptions.grouping !== false) {\n                z = 0;\n            }\n            z += (seriesOptions.groupZPadding || 1);\n            for (var _i = 0, _a = series.data; _i < _a.length; _i++) {\n                var point = _a[_i];\n                // #7103 Reset outside3dPlot flag\n                point.outside3dPlot = null;\n                if (point.y !== null) {\n                    var shapeArgs = extend({ x: 0, y: 0, width: 0, height: 0 }, point.shapeArgs || {}), \n                    // Array for final shapeArgs calculation.\n                    // We are checking two dimensions (x and y).\n                    dimensions = [['x', 'width'], ['y', 'height']], tooltipPos = point.tooltipPos;\n                    var borderlessBase = // Crisped rects can have +/- 0.5 pixels offset.\n                     void 0; // Crisped rects can have +/- 0.5 pixels offset.\n                    // #3131 We need to check if column is inside plotArea.\n                    for (var _b = 0, dimensions_1 = dimensions; _b < dimensions_1.length; _b++) {\n                        var d = dimensions_1[_b];\n                        borderlessBase = shapeArgs[d[0]] - borderCrisp;\n                        if (borderlessBase < 0) {\n                            // If borderLessBase is smaller than 0, it is needed to set\n                            // its value to 0 or 0.5 depending on borderWidth\n                            // borderWidth may be even or odd.\n                            shapeArgs[d[1]] += shapeArgs[d[0]] + borderCrisp;\n                            shapeArgs[d[0]] = -borderCrisp;\n                            borderlessBase = 0;\n                        }\n                        if ((borderlessBase + shapeArgs[d[1]] >\n                            series[d[0] + 'Axis'].len) &&\n                            // Do not change height/width of column if 0 (#6708)\n                            shapeArgs[d[1]] !== 0) {\n                            shapeArgs[d[1]] =\n                                series[d[0] + 'Axis'].len -\n                                    shapeArgs[d[0]];\n                        }\n                        if (\n                        // Do not remove columns with zero height/width.\n                        shapeArgs[d[1]] !== 0 &&\n                            (shapeArgs[d[0]] >= series[d[0] + 'Axis'].len ||\n                                shapeArgs[d[0]] + shapeArgs[d[1]] <= borderCrisp)) {\n                            // Set args to 0 if column is outside the chart.\n                            for (var key in shapeArgs) { // eslint-disable-line guard-for-in\n                                // #13840\n                                shapeArgs[key] = key === 'y' ? -9999 : 0;\n                            }\n                            // #7103 outside3dPlot flag is set on Points which are\n                            // currently outside of plot.\n                            point.outside3dPlot = true;\n                        }\n                    }\n                    // Change from 2d to 3d\n                    if (point.shapeType === 'roundedRect') {\n                        point.shapeType = 'cuboid';\n                    }\n                    point.shapeArgs = extend(shapeArgs, {\n                        z: z,\n                        depth: depth,\n                        insidePlotArea: true\n                    });\n                    // Point's position in 2D\n                    point2dPos = {\n                        x: shapeArgs.x + shapeArgs.width / 2,\n                        y: shapeArgs.y,\n                        z: z + depth / 2 // The center of column in Z dimension\n                    };\n                    // Recalculate point positions for inverted graphs\n                    if (chart.inverted) {\n                        point2dPos.x = shapeArgs.height;\n                        point2dPos.y = point.clientX || 0;\n                    }\n                    // Calculate and store point's position in 3D,\n                    // using perspective method.\n                    point.plot3d = perspective([point2dPos], chart, true, false)[0];\n                    // Translate the tooltip position in 3d space\n                    if (tooltipPos) {\n                        var translatedTTPos = perspective([{\n                                x: tooltipPos[0],\n                                y: tooltipPos[1],\n                                z: z + depth / 2 // The center of column in Z dimension\n                            }], chart, true, false)[0];\n                        point.tooltipPos = [translatedTTPos.x, translatedTTPos.y];\n                    }\n                }\n            }\n            // store for later use #4067\n            series.z = z;\n        }\n        /** @private */\n        function compose(SeriesClass, StackItemClass) {\n            if (pushUnique(composedMembers, SeriesClass)) {\n                var seriesProto = SeriesClass.prototype;\n                wrap(seriesProto, 'alignDataLabel', wrapSeriesAlignDataLabel);\n                wrap(seriesProto, 'justifyDataLabel', wrapSeriesJustifyDataLabel);\n            }\n            if (pushUnique(composedMembers, StackItemClass)) {\n                var stackItemProto = StackItemClass.prototype;\n                wrap(stackItemProto, 'getStackBox', wrapStackItemGetStackBox);\n            }\n            var _a = SeriesClass.types, ColumnSeriesClass = _a.column, ColumnRangeSeriesClass = _a.columnRange;\n            if (ColumnSeriesClass &&\n                pushUnique(composedMembers, ColumnSeriesClass)) {\n                var columnSeriesProto = ColumnSeriesClass.prototype, columnPointProto = columnSeriesProto.pointClass.prototype;\n                columnSeriesProto.translate3dPoints = function () { return void 0; };\n                columnSeriesProto.translate3dShapes = columnSeriesTranslate3dShapes;\n                addEvent(columnSeriesProto, 'afterInit', onColumnSeriesAfterInit);\n                wrap(columnPointProto, 'hasNewShapeType', wrapColumnPointHasNewShapeType);\n                wrap(columnSeriesProto, 'animate', wrapColumnSeriesAnimate);\n                wrap(columnSeriesProto, 'plotGroup', wrapColumnSeriesPlotGroup);\n                wrap(columnSeriesProto, 'pointAttribs', wrapColumnSeriesPointAttribs);\n                wrap(columnSeriesProto, 'setState', wrapColumnSeriesSetState);\n                wrap(columnSeriesProto, 'setVisible', wrapColumnSeriesSetVisible);\n                wrap(columnSeriesProto, 'translate', wrapColumnSeriesTranslate);\n            }\n            if (ColumnRangeSeriesClass &&\n                pushUnique(composedMembers, ColumnRangeSeriesClass)) {\n                var columnRangeSeriesProto = ColumnRangeSeriesClass.prototype, columnRangePointProto = columnRangeSeriesProto.pointClass.prototype;\n                wrap(columnRangePointProto, 'hasNewShapeType', wrapColumnPointHasNewShapeType);\n                wrap(columnRangeSeriesProto, 'plotGroup', wrapColumnSeriesPlotGroup);\n                wrap(columnRangeSeriesProto, 'pointAttribs', wrapColumnSeriesPointAttribs);\n                wrap(columnRangeSeriesProto, 'setState', wrapColumnSeriesSetState);\n                wrap(columnRangeSeriesProto, 'setVisible', wrapColumnSeriesSetVisible);\n            }\n        }\n        /**\n         * @private\n         * @param {Highcharts.Chart} chart\n         * Chart with stacks\n         * @param {string} stacking\n         * Stacking option\n         */\n        function retrieveStacks(chart, stacking) {\n            var series = chart.series, stacks = { totalStacks: 0 };\n            var stackNumber, i = 1;\n            series.forEach(function (s) {\n                stackNumber = pick(s.options.stack, (stacking ? 0 : series.length - 1 - s.index)); // #3841, #4532\n                if (!stacks[stackNumber]) {\n                    stacks[stackNumber] = { series: [s], position: i };\n                    i++;\n                }\n                else {\n                    stacks[stackNumber].series.push(s);\n                }\n            });\n            stacks.totalStacks = i + 1;\n            return stacks;\n        }\n        /** @private */\n        function onColumnSeriesAfterInit() {\n            if (this.chart.is3d()) {\n                var series = this, seriesOptions = series.options, grouping = seriesOptions.grouping, stacking = seriesOptions.stacking, reversedStacks = series.yAxis.options.reversedStacks;\n                var z = 0;\n                // @todo grouping === true ?\n                if (!(typeof grouping !== 'undefined' && !grouping)) {\n                    var stacks = retrieveStacks(this.chart, stacking), stack = seriesOptions.stack || 0;\n                    var i = // position within the stack\n                     void 0; // position within the stack\n                    for (i = 0; i < stacks[stack].series.length; i++) {\n                        if (stacks[stack].series[i] === this) {\n                            break;\n                        }\n                    }\n                    z = (10 * (stacks.totalStacks - stacks[stack].position)) +\n                        (reversedStacks ? i : -i); // #4369\n                    // In case when axis is reversed, columns are also reversed inside\n                    // the group (#3737)\n                    if (!this.xAxis.reversed) {\n                        z = (stacks.totalStacks * 10) - z;\n                    }\n                }\n                seriesOptions.depth = seriesOptions.depth || 25;\n                series.z = series.z || 0;\n                seriesOptions.zIndex = z;\n            }\n        }\n        /**\n         * In 3D mode, simple checking for a new shape to animate is not enough.\n         * Additionally check if graphic is a group of elements\n         * @private\n         */\n        function wrapColumnPointHasNewShapeType(proceed) {\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            return this.series.chart.is3d() ?\n                this.graphic && this.graphic.element.nodeName !== 'g' :\n                proceed.apply(this, args);\n        }\n        /** @private */\n        function wrapColumnSeriesAnimate(proceed) {\n            if (!this.chart.is3d()) {\n                proceed.apply(this, [].slice.call(arguments, 1));\n            }\n            else {\n                var args = arguments, init = args[1], yAxis = this.yAxis, series = this, reversed = this.yAxis.reversed;\n                if (init) {\n                    for (var _i = 0, _a = series.data; _i < _a.length; _i++) {\n                        var point = _a[_i];\n                        if (point.y !== null) {\n                            point.height = point.shapeArgs.height;\n                            point.shapey = point.shapeArgs.y; // #2968\n                            point.shapeArgs.height = 1;\n                            if (!reversed) {\n                                if (point.stackY) {\n                                    point.shapeArgs.y =\n                                        point.plotY +\n                                            yAxis.translate(point.stackY);\n                                }\n                                else {\n                                    point.shapeArgs.y =\n                                        point.plotY +\n                                            (point.negative ?\n                                                -point.height :\n                                                point.height);\n                                }\n                            }\n                        }\n                    }\n                }\n                else { // run the animation\n                    for (var _b = 0, _c = series.data; _b < _c.length; _b++) {\n                        var point = _c[_b];\n                        if (point.y !== null) {\n                            point.shapeArgs.height = point.height;\n                            point.shapeArgs.y = point.shapey; // #2968\n                            // null value do not have a graphic\n                            if (point.graphic) {\n                                point.graphic[point.outside3dPlot ?\n                                    'attr' :\n                                    'animate'](point.shapeArgs, series.options.animation);\n                            }\n                        }\n                    }\n                    // redraw datalabels to the correct position\n                    this.drawDataLabels();\n                }\n            }\n        }\n        /**\n         * In case of 3d columns there is no sense to add these columns to a specific\n         * series group. If a series is added to a group all columns will have the same\n         * zIndex in comparison to another series.\n         * @private\n         */\n        function wrapColumnSeriesPlotGroup(proceed, prop, _name, _visibility, _zIndex, parent) {\n            if (prop !== 'dataLabelsGroup' && prop !== 'markerGroup') {\n                if (this.chart.is3d()) {\n                    if (this[prop]) {\n                        delete this[prop];\n                    }\n                    if (parent) {\n                        if (!this.chart.columnGroup) {\n                            this.chart.columnGroup =\n                                this.chart.renderer.g('columnGroup').add(parent);\n                        }\n                        this[prop] = this.chart.columnGroup;\n                        this.chart.columnGroup.attr(this.getPlotBox());\n                        this[prop].survive = true;\n                        if (prop === 'group') {\n                            arguments[3] = 'visible';\n                            // For 3D column group and markerGroup should be visible\n                        }\n                    }\n                }\n            }\n            return proceed.apply(this, Array.prototype.slice.call(arguments, 1));\n        }\n        /** @private */\n        function wrapColumnSeriesPointAttribs(proceed) {\n            var attr = proceed.apply(this, [].slice.call(arguments, 1));\n            if (this.chart.is3d && this.chart.is3d()) {\n                // Set the fill color to the fill color to provide a smooth edge\n                attr.stroke = this.options.edgeColor || attr.fill;\n                attr['stroke-width'] = pick(this.options.edgeWidth, 1); // #4055\n            }\n            return attr;\n        }\n        /**\n         * In 3D mode, all column-series are rendered in one main group. Because of that\n         * we need to apply inactive state on all points.\n         * @private\n         */\n        function wrapColumnSeriesSetState(proceed, state, inherit) {\n            var is3d = this.chart.is3d && this.chart.is3d();\n            if (is3d) {\n                this.options.inactiveOtherPoints = true;\n            }\n            proceed.call(this, state, inherit);\n            if (is3d) {\n                this.options.inactiveOtherPoints = false;\n            }\n        }\n        /**\n         * When series is not added to group it is needed to change setVisible method to\n         * allow correct Legend funcionality. This wrap is basing on pie chart series.\n         * @private\n         */\n        function wrapColumnSeriesSetVisible(proceed, vis) {\n            var series = this;\n            if (series.chart.is3d()) {\n                for (var _i = 0, _a = series.data; _i < _a.length; _i++) {\n                    var point = _a[_i];\n                    point.visible = point.options.visible = vis =\n                        typeof vis === 'undefined' ?\n                            !pick(series.visible, point.visible) : vis;\n                    series.options.data[series.data.indexOf(point)] =\n                        point.options;\n                    if (point.graphic) {\n                        point.graphic.attr({\n                            visibility: vis ? 'visible' : 'hidden'\n                        });\n                    }\n                }\n            }\n            proceed.apply(this, Array.prototype.slice.call(arguments, 1));\n        }\n        /** @private */\n        function wrapColumnSeriesTranslate(proceed) {\n            proceed.apply(this, [].slice.call(arguments, 1));\n            // Do not do this if the chart is not 3D\n            if (this.chart.is3d()) {\n                this.translate3dShapes();\n            }\n        }\n        /** @private */\n        function wrapSeriesAlignDataLabel(proceed, point, _dataLabel, options, alignTo) {\n            var chart = this.chart;\n            // In 3D we need to pass point.outsidePlot option to the justifyDataLabel\n            // method for disabling justifying dataLabels in columns outside plot\n            options.outside3dPlot = point.outside3dPlot;\n            // Only do this for 3D columns and it's derived series\n            if (chart.is3d() &&\n                this.is('column')) {\n                var series = this, seriesOptions = series.options, inside = pick(options.inside, !!series.options.stacking), options3d = chart.options.chart.options3d, xOffset = point.pointWidth / 2 || 0;\n                var dLPosition = {\n                    x: alignTo.x + xOffset,\n                    y: alignTo.y,\n                    z: series.z + seriesOptions.depth / 2\n                };\n                if (chart.inverted) {\n                    // Inside dataLabels are positioned according to above\n                    // logic and there is no need to position them using\n                    // non-3D algorighm (that use alignTo.width)\n                    if (inside) {\n                        alignTo.width = 0;\n                        dLPosition.x += point.shapeArgs.height / 2;\n                    }\n                    // When chart is upside down\n                    // (alpha angle between 180 and 360 degrees)\n                    // it is needed to add column width to calculated value.\n                    if (options3d.alpha >= 90 && options3d.alpha <= 270) {\n                        dLPosition.y += point.shapeArgs.width;\n                    }\n                }\n                // dLPosition is recalculated for 3D graphs\n                dLPosition = perspective([dLPosition], chart, true, false)[0];\n                alignTo.x = dLPosition.x - xOffset;\n                // #7103 If point is outside of plotArea, hide data label.\n                alignTo.y = point.outside3dPlot ? -9e9 : dLPosition.y;\n            }\n            proceed.apply(this, [].slice.call(arguments, 1));\n        }\n        /**\n         * Don't use justifyDataLabel when point is outsidePlot.\n         * @private\n         */\n        function wrapSeriesJustifyDataLabel(proceed) {\n            return (!(arguments[2].outside3dPlot) ?\n                proceed.apply(this, [].slice.call(arguments, 1)) :\n                false);\n        }\n        /**\n         * Added stackLabels position calculation for 3D charts.\n         * @private\n         */\n        function wrapStackItemGetStackBox(proceed, stackBoxProps) {\n            var stackBox = proceed.apply(this, [].slice.call(arguments, 1));\n            // Only do this for 3D graph\n            var stackItem = this, chart = this.axis.chart, xWidth = stackBoxProps.width;\n            if (chart.is3d() && stackItem.base) {\n                // First element of stackItem.base is an index of base series.\n                var baseSeriesInd = +(stackItem.base).split(',')[0];\n                var columnSeries = chart.series[baseSeriesInd];\n                var options3d = chart.options.chart.options3d;\n                // Only do this if base series is a column or inherited type,\n                // use its barW, z and depth parameters\n                // for correct stackLabels position calculation\n                if (columnSeries &&\n                    columnSeries.type === 'column') {\n                    var dLPosition = {\n                        x: stackBox.x + (chart.inverted ? stackBox.height : xWidth / 2),\n                        y: stackBox.y,\n                        z: columnSeries.options.depth / 2\n                    };\n                    if (chart.inverted) {\n                        // Do not use default offset calculation logic\n                        // for 3D inverted stackLabels.\n                        stackBox.width = 0;\n                        // When chart is upside down\n                        // (alpha angle between 180 and 360 degrees)\n                        // it is needed to add column width to calculated value.\n                        if (options3d.alpha >= 90 && options3d.alpha <= 270) {\n                            dLPosition.y += xWidth;\n                        }\n                    }\n                    dLPosition = perspective([dLPosition], chart, true, false)[0];\n                    stackBox.x = dLPosition.x - xWidth / 2;\n                    stackBox.y = dLPosition.y;\n                }\n            }\n            return stackBox;\n        }\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        var Column3DComposition = {\n            compose: compose\n        };\n        /* *\n         *\n         *  API Options\n         *\n         * */\n        /**\n         * Depth of the columns in a 3D column chart.\n         *\n         * @type      {number}\n         * @default   25\n         * @since     4.0\n         * @product   highcharts\n         * @requires  highcharts-3d\n         * @apioption plotOptions.column.depth\n         */\n        /**\n         * 3D columns only. The color of the edges. Similar to `borderColor`, except it\n         * defaults to the same color as the column.\n         *\n         * @type      {Highcharts.ColorString}\n         * @product   highcharts\n         * @requires  highcharts-3d\n         * @apioption plotOptions.column.edgeColor\n         */\n        /**\n         * 3D columns only. The width of the colored edges.\n         *\n         * @type      {number}\n         * @default   1\n         * @product   highcharts\n         * @requires  highcharts-3d\n         * @apioption plotOptions.column.edgeWidth\n         */\n        /**\n         * The spacing between columns on the Z Axis in a 3D chart.\n         *\n         * @type      {number}\n         * @default   1\n         * @since     4.0\n         * @product   highcharts\n         * @requires  highcharts-3d\n         * @apioption plotOptions.column.groupZPadding\n         */\n        ''; // keeps doclets above in transpiled file\n\n        return Column3DComposition;\n    });\n    _registerModule(_modules, 'Series/Pie3D/Pie3DPoint.js', [_modules['Core/Series/SeriesRegistry.js']], function (SeriesRegistry) {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  3D pie series\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var PiePoint = SeriesRegistry.seriesTypes.pie.prototype.pointClass;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var Pie3DPoint = /** @class */ (function (_super) {\n            __extends(Pie3DPoint, _super);\n            function Pie3DPoint() {\n                /* *\n                 *\n                 *  Properties\n                 *\n                 * */\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.series = void 0;\n                return _this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * @private\n             */\n            Pie3DPoint.prototype.haloPath = function () {\n                var _a;\n                return ((_a = this.series) === null || _a === void 0 ? void 0 : _a.chart.is3d()) ?\n                    [] : _super.prototype.haloPath.apply(this, arguments);\n            };\n            return Pie3DPoint;\n        }(PiePoint));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return Pie3DPoint;\n    });\n    _registerModule(_modules, 'Series/Pie3D/Pie3DSeries.js', [_modules['Core/Globals.js'], _modules['Series/Pie3D/Pie3DPoint.js'], _modules['Core/Series/SeriesRegistry.js'], _modules['Core/Utilities.js']], function (H, Pie3DPoint, SeriesRegistry, U) {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  3D pie series\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var deg2rad = H.deg2rad;\n        var PieSeries = SeriesRegistry.seriesTypes.pie;\n        var extend = U.extend, pick = U.pick, pushUnique = U.pushUnique;\n        /* *\n         *\n         *  Constants\n         *\n         * */\n        var composedMembers = [];\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var Pie3DSeries = /** @class */ (function (_super) {\n            __extends(Pie3DSeries, _super);\n            function Pie3DSeries() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            /* *\n             *\n             *  Static Functions\n             *\n             * */\n            Pie3DSeries.compose = function (SeriesClass) {\n                if (pushUnique(composedMembers, SeriesClass)) {\n                    SeriesClass.types.pie = Pie3DSeries;\n                }\n            };\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            /**\n             * @private\n             */\n            Pie3DSeries.prototype.addPoint = function () {\n                _super.prototype.addPoint.apply(this, arguments);\n                if (this.chart.is3d()) {\n                    // destroy (and rebuild) everything!!!\n                    this.update(this.userOptions, true); // #3845 pass the old options\n                }\n            };\n            /**\n             * @private\n             */\n            Pie3DSeries.prototype.animate = function (init) {\n                if (!this.chart.is3d()) {\n                    _super.prototype.animate.apply(this, arguments);\n                }\n                else {\n                    var center = this.center, group = this.group, markerGroup = this.markerGroup;\n                    var animation = this.options.animation, attribs = void 0;\n                    if (animation === true) {\n                        animation = {};\n                    }\n                    // Initialize the animation\n                    if (init) {\n                        // Scale down the group and place it in the center\n                        group.oldtranslateX = pick(group.oldtranslateX, group.translateX);\n                        group.oldtranslateY = pick(group.oldtranslateY, group.translateY);\n                        attribs = {\n                            translateX: center[0],\n                            translateY: center[1],\n                            scaleX: 0.001,\n                            scaleY: 0.001\n                        };\n                        group.attr(attribs);\n                        if (markerGroup) {\n                            markerGroup.attrSetters = group.attrSetters;\n                            markerGroup.attr(attribs);\n                        }\n                        // Run the animation\n                    }\n                    else {\n                        attribs = {\n                            translateX: group.oldtranslateX,\n                            translateY: group.oldtranslateY,\n                            scaleX: 1,\n                            scaleY: 1\n                        };\n                        group.animate(attribs, animation);\n                        if (markerGroup) {\n                            markerGroup.animate(attribs, animation);\n                        }\n                    }\n                }\n            };\n            /**\n             * @private\n             */\n            Pie3DSeries.prototype.getDataLabelPosition = function (point, distance) {\n                var labelPosition = _super.prototype.getDataLabelPosition.call(this, point, distance);\n                if (this.chart.is3d()) {\n                    var options3d = this.chart.options.chart.options3d, shapeArgs = point.shapeArgs, r = shapeArgs.r, \n                    // #3240 issue with datalabels for 0 and null values\n                    a1 = ((shapeArgs.alpha || (options3d === null || options3d === void 0 ? void 0 : options3d.alpha)) *\n                        deg2rad), b1 = ((shapeArgs.beta || (options3d === null || options3d === void 0 ? void 0 : options3d.beta)) *\n                        deg2rad), a2 = (shapeArgs.start + shapeArgs.end) / 2, connectorPosition = labelPosition.connectorPosition, yOffset = (-r * (1 - Math.cos(a1)) * Math.sin(a2)), xOffset = r * (Math.cos(b1) - 1) * Math.cos(a2);\n                    // Apply perspective on label positions\n                    for (var _a = 0, _b = [\n                        labelPosition === null || labelPosition === void 0 ? void 0 : labelPosition.natural,\n                        connectorPosition.breakAt,\n                        connectorPosition.touchingSliceAt\n                    ]; _a < _b.length; _a++) {\n                        var coordinates = _b[_a];\n                        coordinates.x += xOffset;\n                        coordinates.y += yOffset;\n                    }\n                }\n                return labelPosition;\n            };\n            /**\n             * @private\n             */\n            Pie3DSeries.prototype.pointAttribs = function (point) {\n                var attr = _super.prototype.pointAttribs.apply(this, arguments), options = this.options;\n                if (this.chart.is3d() && !this.chart.styledMode) {\n                    attr.stroke = options.edgeColor || point.color || this.color;\n                    attr['stroke-width'] = pick(options.edgeWidth, 1);\n                }\n                return attr;\n            };\n            /**\n             * @private\n             */\n            Pie3DSeries.prototype.translate = function () {\n                _super.prototype.translate.apply(this, arguments);\n                // Do not do this if the chart is not 3D\n                if (!this.chart.is3d()) {\n                    return;\n                }\n                var series = this, seriesOptions = series.options, depth = seriesOptions.depth || 0, options3d = series.chart.options.chart.options3d, alpha = options3d.alpha, beta = options3d.beta;\n                var z = seriesOptions.stacking ?\n                    (seriesOptions.stack || 0) * depth :\n                    series._i * depth;\n                z += depth / 2;\n                if (seriesOptions.grouping !== false) {\n                    z = 0;\n                }\n                for (var _a = 0, _b = series.data; _a < _b.length; _a++) {\n                    var point = _b[_a];\n                    var shapeArgs = point.shapeArgs;\n                    point.shapeType = 'arc3d';\n                    shapeArgs.z = z;\n                    shapeArgs.depth = depth * 0.75;\n                    shapeArgs.alpha = alpha;\n                    shapeArgs.beta = beta;\n                    shapeArgs.center = series.center;\n                    var angle = (shapeArgs.end + shapeArgs.start) / 2;\n                    point.slicedTranslation = {\n                        translateX: Math.round(Math.cos(angle) *\n                            seriesOptions.slicedOffset *\n                            Math.cos(alpha * deg2rad)),\n                        translateY: Math.round(Math.sin(angle) *\n                            seriesOptions.slicedOffset *\n                            Math.cos(alpha * deg2rad))\n                    };\n                }\n            };\n            /**\n             * @private\n             */\n            Pie3DSeries.prototype.drawTracker = function () {\n                _super.prototype.drawTracker.apply(this, arguments);\n                // Do not do this if the chart is not 3D\n                if (!this.chart.is3d()) {\n                    return;\n                }\n                for (var _a = 0, _b = this.points; _a < _b.length; _a++) {\n                    var point = _b[_a];\n                    if (point.graphic) {\n                        for (var _c = 0, _d = ['out', 'inn', 'side1', 'side2']; _c < _d.length; _c++) {\n                            var face = _d[_c];\n                            if (point.graphic) {\n                                point.graphic[face].element.point = point;\n                            }\n                        }\n                    }\n                }\n            };\n            return Pie3DSeries;\n        }(PieSeries));\n        extend(Pie3DSeries.prototype, {\n            pointClass: Pie3DPoint\n        });\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n        /* *\n         *\n         *  API Options\n         *\n         * */\n        /**\n         * The thickness of a 3D pie.\n         *\n         * @type      {number}\n         * @default   0\n         * @since     4.0\n         * @product   highcharts\n         * @requires  highcharts-3d\n         * @apioption plotOptions.pie.depth\n         */\n        ''; // keeps doclets above after transpilation\n\n        return Pie3DSeries;\n    });\n    _registerModule(_modules, 'Series/Scatter3D/Scatter3DPoint.js', [_modules['Series/Scatter/ScatterSeries.js'], _modules['Core/Utilities.js']], function (ScatterSeries, U) {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  Scatter 3D series.\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var ScatterPoint = ScatterSeries.prototype.pointClass;\n        var defined = U.defined;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        var Scatter3DPoint = /** @class */ (function (_super) {\n            __extends(Scatter3DPoint, _super);\n            function Scatter3DPoint() {\n                /* *\n                 *\n                 *  Properties\n                 *\n                 * */\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.options = void 0;\n                _this.series = void 0;\n                return _this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            Scatter3DPoint.prototype.applyOptions = function () {\n                _super.prototype.applyOptions.apply(this, arguments);\n                if (!defined(this.z)) {\n                    this.z = 0;\n                }\n                return this;\n            };\n            return Scatter3DPoint;\n        }(ScatterPoint));\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return Scatter3DPoint;\n    });\n    _registerModule(_modules, 'Series/Scatter3D/Scatter3DSeriesDefaults.js', [], function () {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  Scatter 3D series.\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        /* *\n         *\n         *  API Options\n         *\n         * */\n        /**\n         * A 3D scatter plot uses x, y and z coordinates to display values for three\n         * variables for a set of data.\n         *\n         * @sample {highcharts} highcharts/3d/scatter/\n         *         Simple 3D scatter\n         * @sample {highcharts} highcharts/demo/3d-scatter-draggable\n         *         Draggable 3d scatter\n         *\n         * @extends      plotOptions.scatter\n         * @excluding    dragDrop, cluster, boostThreshold, boostBlending\n         * @product      highcharts\n         * @requires     highcharts-3d\n         * @optionparent plotOptions.scatter3d\n         */\n        var Scatter3DSeriesDefaults = {\n            tooltip: {\n                pointFormat: 'x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>'\n            }\n        };\n        /**\n         * A `scatter3d` series. If the [type](#series.scatter3d.type) option is\n         * not specified, it is inherited from [chart.type](#chart.type).\n         *\n         * scatter3d](#plotOptions.scatter3d).\n         *\n         * @extends   series,plotOptions.scatter3d\n         * @excluding boostThreshold, boostBlending\n         * @product   highcharts\n         * @requires  highcharts-3d\n         * @apioption series.scatter3d\n         */\n        /**\n         * An array of data points for the series. For the `scatter3d` series\n         * type, points can be given in the following ways:\n         *\n         * 1.  An array of arrays with 3 values. In this case, the values correspond\n         * to `x,y,z`. If the first value is a string, it is applied as the name\n         * of the point, and the `x` value is inferred.\n         *\n         *  ```js\n         *     data: [\n         *         [0, 0, 1],\n         *         [1, 8, 7],\n         *         [2, 9, 2]\n         *     ]\n         *  ```\n         *\n         * 3.  An array of objects with named values. The following snippet shows only a\n         * few settings, see the complete options set below. If the total number of data\n         * points exceeds the series'\n         * [turboThreshold](#series.scatter3d.turboThreshold), this option is not\n         * available.\n         *\n         *  ```js\n         *     data: [{\n         *         x: 1,\n         *         y: 2,\n         *         z: 24,\n         *         name: \"Point2\",\n         *         color: \"#00FF00\"\n         *     }, {\n         *         x: 1,\n         *         y: 4,\n         *         z: 12,\n         *         name: \"Point1\",\n         *         color: \"#FF00FF\"\n         *     }]\n         *  ```\n         *\n         * @sample {highcharts} highcharts/chart/reflow-true/\n         *         Numerical values\n         * @sample {highcharts} highcharts/series/data-array-of-arrays/\n         *         Arrays of numeric x and y\n         * @sample {highcharts} highcharts/series/data-array-of-arrays-datetime/\n         *         Arrays of datetime x and y\n         * @sample {highcharts} highcharts/series/data-array-of-name-value/\n         *         Arrays of point.name and y\n         * @sample {highcharts} highcharts/series/data-array-of-objects/\n         *         Config objects\n         *\n         * @type      {Array<Array<number>|*>}\n         * @extends   series.scatter.data\n         * @product   highcharts\n         * @apioption series.scatter3d.data\n         */\n        /**\n         * The z value for each data point.\n         *\n         * @type      {number}\n         * @product   highcharts\n         * @apioption series.scatter3d.data.z\n         */\n        ''; // detachs doclets above\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return Scatter3DSeriesDefaults;\n    });\n    _registerModule(_modules, 'Series/Scatter3D/Scatter3DSeries.js', [_modules['Core/Math3D.js'], _modules['Series/Scatter3D/Scatter3DPoint.js'], _modules['Series/Scatter3D/Scatter3DSeriesDefaults.js'], _modules['Series/Scatter/ScatterSeries.js'], _modules['Core/Series/SeriesRegistry.js'], _modules['Core/Utilities.js']], function (Math3D, Scatter3DPoint, Scatter3DSeriesDefaults, ScatterSeries, SeriesRegistry, U) {\n        /* *\n         *\n         *  (c) 2010-2021 Torstein Honsi\n         *\n         *  Scatter 3D series.\n         *\n         *  License: www.highcharts.com/license\n         *\n         *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n         *\n         * */\n        var __extends = (this && this.__extends) || (function () {\n            var extendStatics = function (d, b) {\n                extendStatics = Object.setPrototypeOf ||\n                    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n                    function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n                return extendStatics(d, b);\n            };\n            return function (d, b) {\n                if (typeof b !== \"function\" && b !== null)\n                    throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n                extendStatics(d, b);\n                function __() { this.constructor = d; }\n                d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n            };\n        })();\n        var pointCameraDistance = Math3D.pointCameraDistance;\n        var extend = U.extend, merge = U.merge;\n        /* *\n         *\n         *  Class\n         *\n         * */\n        /**\n         * @private\n         * @class\n         * @name Highcharts.seriesTypes.scatter3d\n         *\n         * @augments Highcharts.Series\n         */\n        var Scatter3DSeries = /** @class */ (function (_super) {\n            __extends(Scatter3DSeries, _super);\n            function Scatter3DSeries() {\n                /* *\n                 *\n                 *  Static Properties\n                 *\n                 * */\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                /* *\n                 *\n                 *  Properties\n                 *\n                 * */\n                _this.data = void 0;\n                _this.options = void 0;\n                _this.points = void 0;\n                return _this;\n            }\n            /* *\n             *\n             *  Functions\n             *\n             * */\n            Scatter3DSeries.prototype.pointAttribs = function (point) {\n                var attribs = _super.prototype.pointAttribs.apply(this, arguments);\n                if (this.chart.is3d() && point) {\n                    attribs.zIndex =\n                        pointCameraDistance(point, this.chart);\n                }\n                return attribs;\n            };\n            Scatter3DSeries.defaultOptions = merge(ScatterSeries.defaultOptions, Scatter3DSeriesDefaults);\n            return Scatter3DSeries;\n        }(ScatterSeries));\n        extend(Scatter3DSeries.prototype, {\n            axisTypes: ['xAxis', 'yAxis', 'zAxis'],\n            // Require direct touch rather than using the k-d-tree, because the\n            // k-d-tree currently doesn't take the xyz coordinate system into\n            // account (#4552)\n            directTouch: true,\n            parallelArrays: ['x', 'y', 'z'],\n            pointArrayMap: ['x', 'y', 'z'],\n            pointClass: Scatter3DPoint\n        });\n        SeriesRegistry.registerSeriesType('scatter3d', Scatter3DSeries);\n        /* *\n         *\n         *  Default Export\n         *\n         * */\n\n        return Scatter3DSeries;\n    });\n    _registerModule(_modules, 'masters/highcharts-3d.src.js', [_modules['Core/Globals.js'], _modules['Core/Chart/Chart3D.js'], _modules['Series/Area3D/Area3DSeries.js'], _modules['Core/Axis/Axis3DComposition.js'], _modules['Core/Renderer/RendererRegistry.js'], _modules['Core/Series/Series3D.js'], _modules['Core/Axis/Stacking/StackItem.js'], _modules['Core/Renderer/SVG/SVGRenderer3D.js'], _modules['Core/Axis/ZAxis.js'], _modules['Series/Column3D/Column3DComposition.js'], _modules['Series/Pie3D/Pie3DSeries.js']], function (Highcharts, Chart3D, Area3DSeries, Axis3DComposition, RendererRegistry, Series3D, StackItem, SVGRenderer3D, ZAxis, Column3DComposition, Pie3DSeries) {\n\n        var G = Highcharts;\n        // Compositions\n        Area3DSeries.compose(G.seriesTypes.area);\n        Axis3DComposition.compose(G.Axis, G.Tick);\n        Chart3D.compose(G.Chart, G.Fx);\n        Column3DComposition.compose(G.Series, StackItem);\n        Pie3DSeries.compose(G.Series);\n        Series3D.compose(G.Series);\n        SVGRenderer3D.compose(RendererRegistry.getRendererType());\n        ZAxis.compose(G.Chart);\n\n    });\n}));"],"names":["factory","module","exports","define","amd","Highcharts","undefined","_modules","_registerModule","obj","path","args","fn","hasOwnProperty","apply","CustomEvent","window","dispatchEvent","detail","H","U","deg2rad","pick","perspective","points","chart","insidePlotArea","useInvertedPersp","options3d","options","inverted","origin","x","plotWidth","y","plotHeight","z","depth","vd","viewDistance","scale","scale3d","beta","alpha","angles","cosA","Math","cos","cosB","sinA","sin","sinB","plotLeft","plotTop","map","point","rotated","coordinate","perspective3D","distance","projection","Number","POSITIVE_INFINITY","shapeArea","vertexes","i","j","area","length","pointCameraDistance","coordinates","cameraPosition","sqrt","pow","plotX","plotY","plotZ","shapeArea3D","Color","D","Math3D","Chart3D","color","parse","genericDefaultOptions","defaultOptions","addEvent","isArray","merge","wrap","onAddSeries","e","is3d","type","onAfterDrawChartBox","chart3d","renderer","frame","get3dFrame","xm","xp","ym","yp","zp","xmm","left","visible","size","xpp","right","ymm","top","ypp","bottom","zmm","zm","front","zpp","back","verb","hasRendered","frame3d","frameShapes","polyhedron","add","zIndex","frontFacing","faces","fill","brighten","get","enabled","onAfterGetContainer","styledMode","name","slope","forEach","cfg","definition","tagName","attributes","id","children","onAfterInit","series","s","defaultSeriesType","onAfterSetChartSize","clipBox","margin","chartWidth","chartHeight","fitToPlot","getScale","onBeforeRedraw","isDirtyBox","onBeforeRender","onInit","Additions","wrapIsInsidePlot","proceed","slice","call","arguments","wrapRenderSeries","translate","render","wrapSetClassName","container","className","axisLabelPosition","compose","ChartClass","FxClass","chartProto","prototype","fxProto","Boolean","propsRequireDirtyBox","push","propsRequireUpdateSeries","matrixSetter","interpolated","pos","start","end","elem","attr","prop","frameOptions","faceOrientation","bottomOrientation","topOrientation","leftOrientation","rightOrientation","frontOrientation","backOrientation","defaultShowBottom","defaultShowTop","defaultShowLeft","defaultShowRight","concat","xAxis","yAxis","zAxis","axis","horiz","opposite","getFaceOptions","sources","defaultVisible","faceAttrs","val","isVisible","ret","axes","side","isValidEdge","face1","face2","yEdges","xDir","xBottomEdges","xTopEdges","zBottomEdges","zTopEdges","pickEdge","edges","mult","projections","best","corners","plotRight","plotBottom","originX","originY","bbox3d","minX","MAX_VALUE","maxX","minY","maxY","corner","min","max","abs","SeriesRegistry","lineProto","seriesTypes","line","composedMembers","wrapAreaSeriesGetGraphPath","svgPath","getGraphPath","translatedThreshold","round","getThreshold","threshold","bottomPoints","rawPointsX","stacking","yBottom","zPadding","group","markerGroup","translateX","translateY","reversed","bottomPath","areaPath","splice","xMap","AreaSeriesClass","pushUnique","labels","position3d","skew3d","title","extend","onTickAfterGetLabelPosition","axis3D","fix3dPosition","wrapTickGetMarkPath","pArr","toLineSegments","TickClass","Axis3DDefaults","Tick3D","onAxisAfterSetOptions","coll","tickWidth","gridLineWidth","onAxisDrawCrosshair","crosshairPos","isXAxis","axisXpos","len","axisYpos","onAxisInit","Axis3DAdditions","wrapAxisGetLinePath","wrapAxisGetPlotBandPath","from","to","fromPath","getPlotLinePath","value","toPath","fromStartSeg","fromEndSeg","toStartSeg","toEndSeg","wrapAxisGetPlotLinePath","d","isZAxis","startSegment","endSegment","pathSegments","swapZ","wrapAxisGetSlotWidth","tick","ticks","gridGroup","categories","label","firstGridLine","element","childNodes","getBBox","frame3DLeft","origin_1","tickId","prevTick","nextTick","labelPos","prevLabelPos","nextLabelPos","xy","wrapAxisGetTitlePosition","AxisClass","keepProps","axisProto","isTitle","vecX","positionMode","skew","offsetX","offsetY","vecY","reverseFlap","cosa","vecZ","sinb","projected","pointsProjected","matrix","p","Series","extendStatics","__extends","b","Object","setPrototypeOf","__proto__","Array","TypeError","String","__","constructor","create","isNumber","_super","Series3D","SeriesClass","translate3dPoints","rawPoint","projectedPoint","zValue","seriesOptions","rawPoints","stack","index","groupZPadding","data","logarithmic","val2lin","isInside","axisZpos","projectedPoints","RendererRegistry","SVGElement","getRendererType","Element","defined","SVGElement3D","_this","parts","pathType","initArgs","elem3d","paths","zIndexes","_i","_a","part","attribs","filter","forcedSides","singleSetterForParts","values","duration","complete","newAttr","optionsToApply","hasZIndexes","keys","processParts","props","partsProps","destroy","continueAnimation","key","shapeArgs","animate","fillSetter","indexOf","types","base","cuboid","A","SVGRenderer3D","animObject","charts","PI","dFactor","curveTo","cx","cy","rx","ry","dx","dy","arcAngle","result","toLinePath","closed","points_1","m","points_2","face3d","elementProto","createElement","hash","chartIndex","vertexes2d","visibility","params","g","pop","element3d","init","cuboidPath","shape","h","height","w","width","mapSidePath","mapPath","pickShape","verticesIndex1","verticesIndex2","dummyFace1","dummyFace2","path1","isFront","path2","isTop","path3","isRight","incrementX","incrementY","incrementZ","arc3d","wrapper","customAttribs","suckOutCustom","ca","hasCA","side1","side2","inn","out","onAdd","parent","parentGroup","_loop_1","face","setPaths","arc3dPath","zTop","zInn","zOut","zSide1","zSide2","center","setRadialReference","darker","_b","_c","setter","paramArr","animation","randomProp","random","toString","substring","anim","globalAnimation","noop","step","a","fx","interpolate","r","innerR","hide","show","inherit","ir","cs","ss","ce","se","irx","iry","start2","end2","midEnd","angleCorr","atan2","angleEnd","angleStart","angleMid","toZeroPIRange","angle","a1","a2","a3","SVGRendererClass","Element3D","Axis","splat","chartAddZAxis","ZAxis","onChartAfterGetAxes","zAxisOptions","axisOptions","addZAxis","setScale","collectionsWithInit","collectionsWithUpdate","userOptions","getSeriesExtremes","hasVisibleSeries","dataMin","dataMax","ignoreMinPadding","ignoreMaxPadding","buildStacks","reserveSpace","positiveValuesOnly","zData","setAxisSize","setOptions","offset","lineWidth","columnSeriesTranslate3dShapes","point2dPos","borderCrisp","borderWidth","grouping","outside3dPlot","dimensions","tooltipPos","borderlessBase","dimensions_1","shapeType","clientX","plot3d","translatedTTPos","onColumnSeriesAfterInit","reversedStacks","stacks","stackNumber","totalStacks","position","wrapColumnPointHasNewShapeType","graphic","nodeName","wrapColumnSeriesAnimate","shapey","stackY","negative","drawDataLabels","wrapColumnSeriesPlotGroup","_name","_visibility","_zIndex","columnGroup","getPlotBox","survive","wrapColumnSeriesPointAttribs","stroke","edgeColor","edgeWidth","wrapColumnSeriesSetState","state","inactiveOtherPoints","wrapColumnSeriesSetVisible","vis","wrapColumnSeriesTranslate","translate3dShapes","wrapSeriesAlignDataLabel","_dataLabel","alignTo","is","inside","xOffset","pointWidth","dLPosition","wrapSeriesJustifyDataLabel","wrapStackItemGetStackBox","stackBoxProps","stackBox","xWidth","stackItem","baseSeriesInd","split","columnSeries","StackItemClass","seriesProto","ColumnSeriesClass","column","ColumnRangeSeriesClass","columnRange","columnSeriesProto","columnPointProto","pointClass","columnRangeSeriesProto","Pie3DPoint","haloPath","pie","PieSeries","Pie3DSeries","addPoint","update","oldtranslateX","oldtranslateY","scaleX","scaleY","attrSetters","getDataLabelPosition","labelPosition","b1","connectorPosition","yOffset","natural","breakAt","touchingSliceAt","pointAttribs","slicedTranslation","slicedOffset","drawTracker","_d","ScatterSeries","ScatterPoint","Scatter3DPoint","applyOptions","tooltip","pointFormat","Scatter3DSeriesDefaults","Scatter3DSeries","axisTypes","directTouch","parallelArrays","pointArrayMap","registerSeriesType","Area3DSeries","Axis3DComposition","StackItem","Column3DComposition","G","Tick","Chart","Fx"],"mappings":"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"}